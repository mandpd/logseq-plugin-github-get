var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function e(t){return t&&t.__esModule?t.default:t}var n={},r={},o=t.parcelRequire5cfc;null==o&&((o=function(t){if(t in n)return n[t].exports;if(t in r){var e=r[t];delete r[t];var o={id:t,exports:{}};return n[t]=o,e.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(t,e){r[t]=e},t.parcelRequire5cfc=o),o.register("9EzOR",(function(e,n){var r,o;r=self,o=function(){return(()=>{var r={227:(t,e,n)=>{var r=n(155);e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;e.splice(1,0,n,"color: inherit");let r=0,o=0;e[0].replace(/%[a-zA-Z%]/g,(t=>{"%%"!==t&&(r++,"%c"===t&&(o=r))})),e.splice(o,0,n)},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(t){}},e.load=function(){let t;try{t=e.storage.getItem("debug")}catch(t){}return!t&&void 0!==r&&"env"in r&&(t=r.env.DEBUG),t},e.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},e.storage=function(){try{return localStorage}catch(t){}}(),e.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||(()=>{}),t.exports=n(447)(e);const{formatters:o}=t.exports;o.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}},447:(t,e,n)=>{t.exports=function(t){function e(t){let n,o=null;function i(...t){if(!i.enabled)return;const r=i,o=Number(new Date),s=o-(n||o);r.diff=s,r.prev=n,r.curr=o,n=o,t[0]=e.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");let a=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,((n,o)=>{if("%%"===n)return"%";a++;const i=e.formatters[o];if("function"==typeof i){const e=t[a];n=i.call(r,e),t.splice(a,1),a--}return n})),e.formatArgs.call(r,t),(r.log||e.log).apply(r,t)}return i.namespace=t,i.useColors=e.useColors(),i.color=e.selectColor(t),i.extend=r,i.destroy=e.destroy,Object.defineProperty(i,"enabled",{enumerable:!0,configurable:!1,get:()=>null===o?e.enabled(t):o,set:t=>{o=t}}),"function"==typeof e.init&&e.init(i),i}function r(t,n){const r=e(this.namespace+(void 0===n?":":n)+t);return r.log=this.log,r}function o(t){return t.toString().substring(2,t.toString().length-2).replace(/\.\*\?$/,"*")}return e.debug=e,e.default=e,e.coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){const t=[...e.names.map(o),...e.skips.map(o).map((t=>"-"+t))].join(",");return e.enable(""),t},e.enable=function(t){let n;e.save(t),e.names=[],e.skips=[];const r=("string"==typeof t?t:"").split(/[\s,]+/),o=r.length;for(n=0;n<o;n++)r[n]&&("-"===(t=r[n].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))},e.enabled=function(t){if("*"===t[t.length-1])return!0;let n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=n(824),e.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t).forEach((n=>{e[n]=t[n]})),e.names=[],e.skips=[],e.formatters={},e.selectColor=function(t){let n=0;for(let e=0;e<t.length;e++)n=(n<<5)-n+t.charCodeAt(e),n|=0;return e.colors[Math.abs(n)%e.colors.length]},e.enable(e.load()),e}},856:function(t){t.exports=function(){var t=Object.hasOwnProperty,e=Object.setPrototypeOf,n=Object.isFrozen,r=Object.getPrototypeOf,o=Object.getOwnPropertyDescriptor,i=Object.freeze,s=Object.seal,a=Object.create,c="undefined"!=typeof Reflect&&Reflect,u=c.apply,l=c.construct;u||(u=function(t,e,n){return t.apply(e,n)}),i||(i=function(t){return t}),s||(s=function(t){return t}),l||(l=function(t,e){return new(Function.prototype.bind.apply(t,[null].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(e))))});var f,p=x(Array.prototype.forEach),h=x(Array.prototype.pop),d=x(Array.prototype.push),g=x(String.prototype.toLowerCase),m=x(String.prototype.match),y=x(String.prototype.replace),b=x(String.prototype.indexOf),v=x(String.prototype.trim),w=x(RegExp.prototype.test),_=(f=TypeError,function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return l(f,e)});function x(t){return function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return u(t,e,r)}}function E(t,r){e&&e(t,null);for(var o=r.length;o--;){var i=r[o];if("string"==typeof i){var s=g(i);s!==i&&(n(r)||(r[o]=s),i=s)}t[i]=!0}return t}function A(e){var n=a(null),r=void 0;for(r in e)u(t,e,[r])&&(n[r]=e[r]);return n}function S(t,e){for(;null!==t;){var n=o(t,e);if(n){if(n.get)return x(n.get);if("function"==typeof n.value)return x(n.value)}t=r(t)}return function(t){return console.warn("fallback value for",t),null}}var O=i(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),C=i(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),T=i(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),j=i(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),k=i(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),I=i(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),R=i(["#text"]),U=i(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),L=i(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),B=i(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),N=i(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),F=s(/\{\{[\s\S]*|[\s\S]*\}\}/gm),M=s(/<%[\s\S]*|[\s\S]*%>/gm),P=s(/^data-[\-\w.\u00B7-\uFFFF]/),D=s(/^aria-[\-\w]+$/),z=s(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),$=s(/^(?:\w+script|data):/i),q=s(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function G(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var J=function(){return"undefined"==typeof window?null:window},W=function(t,e){if("object"!==(void 0===t?"undefined":H(t))||"function"!=typeof t.createPolicy)return null;var n=null,r="data-tt-policy-suffix";e.currentScript&&e.currentScript.hasAttribute(r)&&(n=e.currentScript.getAttribute(r));var o="dompurify"+(n?"#"+n:"");try{return t.createPolicy(o,{createHTML:function(t){return t}})}catch(t){return console.warn("TrustedTypes policy "+o+" could not be created."),null}};return function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J(),n=function(e){return t(e)};if(n.version="2.3.1",n.removed=[],!e||!e.document||9!==e.document.nodeType)return n.isSupported=!1,n;var r=e.document,o=e.document,s=e.DocumentFragment,a=e.HTMLTemplateElement,c=e.Node,u=e.Element,l=e.NodeFilter,f=e.NamedNodeMap,x=void 0===f?e.NamedNodeMap||e.MozNamedAttrMap:f,Y=e.Text,Z=e.Comment,V=e.DOMParser,X=e.trustedTypes,K=u.prototype,Q=S(K,"cloneNode"),tt=S(K,"nextSibling"),et=S(K,"childNodes"),nt=S(K,"parentNode");if("function"==typeof a){var rt=o.createElement("template");rt.content&&rt.content.ownerDocument&&(o=rt.content.ownerDocument)}var ot=W(X,r),it=ot&&Ft?ot.createHTML(""):"",st=o,at=st.implementation,ct=st.createNodeIterator,ut=st.createDocumentFragment,lt=st.getElementsByTagName,ft=r.importNode,pt={};try{pt=A(o).documentMode?o.documentMode:{}}catch(t){}var ht={};n.isSupported="function"==typeof nt&&at&&void 0!==at.createHTMLDocument&&9!==pt;var dt=F,gt=M,mt=P,yt=D,bt=$,vt=q,wt=z,_t=null,xt=E({},[].concat(G(O),G(C),G(T),G(k),G(R))),Et=null,At=E({},[].concat(G(U),G(L),G(B),G(N))),St=null,Ot=null,Ct=!0,Tt=!0,jt=!1,kt=!1,It=!1,Rt=!1,Ut=!1,Lt=!1,Bt=!1,Nt=!0,Ft=!1,Mt=!0,Pt=!0,Dt=!1,zt={},$t=null,qt=E({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ht=null,Gt=E({},["audio","video","img","source","image","track"]),Jt=null,Wt=E({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Yt="http://www.w3.org/1998/Math/MathML",Zt="http://www.w3.org/2000/svg",Vt="http://www.w3.org/1999/xhtml",Xt=Vt,Kt=!1,Qt=null,te=o.createElement("form"),ee=function(t){Qt&&Qt===t||(t&&"object"===(void 0===t?"undefined":H(t))||(t={}),t=A(t),_t="ALLOWED_TAGS"in t?E({},t.ALLOWED_TAGS):xt,Et="ALLOWED_ATTR"in t?E({},t.ALLOWED_ATTR):At,Jt="ADD_URI_SAFE_ATTR"in t?E(A(Wt),t.ADD_URI_SAFE_ATTR):Wt,Ht="ADD_DATA_URI_TAGS"in t?E(A(Gt),t.ADD_DATA_URI_TAGS):Gt,$t="FORBID_CONTENTS"in t?E({},t.FORBID_CONTENTS):qt,St="FORBID_TAGS"in t?E({},t.FORBID_TAGS):{},Ot="FORBID_ATTR"in t?E({},t.FORBID_ATTR):{},zt="USE_PROFILES"in t&&t.USE_PROFILES,Ct=!1!==t.ALLOW_ARIA_ATTR,Tt=!1!==t.ALLOW_DATA_ATTR,jt=t.ALLOW_UNKNOWN_PROTOCOLS||!1,kt=t.SAFE_FOR_TEMPLATES||!1,It=t.WHOLE_DOCUMENT||!1,Lt=t.RETURN_DOM||!1,Bt=t.RETURN_DOM_FRAGMENT||!1,Nt=!1!==t.RETURN_DOM_IMPORT,Ft=t.RETURN_TRUSTED_TYPE||!1,Ut=t.FORCE_BODY||!1,Mt=!1!==t.SANITIZE_DOM,Pt=!1!==t.KEEP_CONTENT,Dt=t.IN_PLACE||!1,wt=t.ALLOWED_URI_REGEXP||wt,Xt=t.NAMESPACE||Vt,kt&&(Tt=!1),Bt&&(Lt=!0),zt&&(_t=E({},[].concat(G(R))),Et=[],!0===zt.html&&(E(_t,O),E(Et,U)),!0===zt.svg&&(E(_t,C),E(Et,L),E(Et,N)),!0===zt.svgFilters&&(E(_t,T),E(Et,L),E(Et,N)),!0===zt.mathMl&&(E(_t,k),E(Et,B),E(Et,N))),t.ADD_TAGS&&(_t===xt&&(_t=A(_t)),E(_t,t.ADD_TAGS)),t.ADD_ATTR&&(Et===At&&(Et=A(Et)),E(Et,t.ADD_ATTR)),t.ADD_URI_SAFE_ATTR&&E(Jt,t.ADD_URI_SAFE_ATTR),t.FORBID_CONTENTS&&($t===qt&&($t=A($t)),E($t,t.FORBID_CONTENTS)),Pt&&(_t["#text"]=!0),It&&E(_t,["html","head","body"]),_t.table&&(E(_t,["tbody"]),delete St.tbody),i&&i(t),Qt=t)},ne=E({},["mi","mo","mn","ms","mtext"]),re=E({},["foreignobject","desc","title","annotation-xml"]),oe=E({},C);E(oe,T),E(oe,j);var ie=E({},k);E(ie,I);var se=function(t){var e=nt(t);e&&e.tagName||(e={namespaceURI:Vt,tagName:"template"});var n=g(t.tagName),r=g(e.tagName);if(t.namespaceURI===Zt)return e.namespaceURI===Vt?"svg"===n:e.namespaceURI===Yt?"svg"===n&&("annotation-xml"===r||ne[r]):Boolean(oe[n]);if(t.namespaceURI===Yt)return e.namespaceURI===Vt?"math"===n:e.namespaceURI===Zt?"math"===n&&re[r]:Boolean(ie[n]);if(t.namespaceURI===Vt){if(e.namespaceURI===Zt&&!re[r])return!1;if(e.namespaceURI===Yt&&!ne[r])return!1;var o=E({},["title","style","font","a","script"]);return!ie[n]&&(o[n]||!oe[n])}return!1},ae=function(t){d(n.removed,{element:t});try{t.parentNode.removeChild(t)}catch(e){try{t.outerHTML=it}catch(e){t.remove()}}},ce=function(t,e){try{d(n.removed,{attribute:e.getAttributeNode(t),from:e})}catch(t){d(n.removed,{attribute:null,from:e})}if(e.removeAttribute(t),"is"===t&&!Et[t])if(Lt||Bt)try{ae(e)}catch(t){}else try{e.setAttribute(t,"")}catch(t){}},ue=function(t){var e=void 0,n=void 0;if(Ut)t="<remove></remove>"+t;else{var r=m(t,/^[\r\n\t ]+/);n=r&&r[0]}var i=ot?ot.createHTML(t):t;if(Xt===Vt)try{e=(new V).parseFromString(i,"text/html")}catch(t){}if(!e||!e.documentElement){e=at.createDocument(Xt,"template",null);try{e.documentElement.innerHTML=Kt?"":i}catch(t){}}var s=e.body||e.documentElement;return t&&n&&s.insertBefore(o.createTextNode(n),s.childNodes[0]||null),Xt===Vt?lt.call(e,It?"html":"body")[0]:It?e.documentElement:s},le=function(t){return ct.call(t.ownerDocument||t,t,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT,null,!1)},fe=function(t){return!(t instanceof Y||t instanceof Z||"string"==typeof t.nodeName&&"string"==typeof t.textContent&&"function"==typeof t.removeChild&&t.attributes instanceof x&&"function"==typeof t.removeAttribute&&"function"==typeof t.setAttribute&&"string"==typeof t.namespaceURI&&"function"==typeof t.insertBefore)},pe=function(t){return"object"===(void 0===c?"undefined":H(c))?t instanceof c:t&&"object"===(void 0===t?"undefined":H(t))&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},he=function(t,e,r){ht[t]&&p(ht[t],(function(t){t.call(n,e,r,Qt)}))},de=function(t){var e=void 0;if(he("beforeSanitizeElements",t,null),fe(t))return ae(t),!0;if(m(t.nodeName,/[\u0080-\uFFFF]/))return ae(t),!0;var r=g(t.nodeName);if(he("uponSanitizeElement",t,{tagName:r,allowedTags:_t}),!pe(t.firstElementChild)&&(!pe(t.content)||!pe(t.content.firstElementChild))&&w(/<[/\w]/g,t.innerHTML)&&w(/<[/\w]/g,t.textContent))return ae(t),!0;if("select"===r&&w(/<template/i,t.innerHTML))return ae(t),!0;if(!_t[r]||St[r]){if(Pt&&!$t[r]){var o=nt(t)||t.parentNode,i=et(t)||t.childNodes;if(i&&o)for(var s=i.length-1;s>=0;--s)o.insertBefore(Q(i[s],!0),tt(t))}return ae(t),!0}return t instanceof u&&!se(t)?(ae(t),!0):"noscript"!==r&&"noembed"!==r||!w(/<\/no(script|embed)/i,t.innerHTML)?(kt&&3===t.nodeType&&(e=t.textContent,e=y(e,dt," "),e=y(e,gt," "),t.textContent!==e&&(d(n.removed,{element:t.cloneNode()}),t.textContent=e)),he("afterSanitizeElements",t,null),!1):(ae(t),!0)},ge=function(t,e,n){if(Mt&&("id"===e||"name"===e)&&(n in o||n in te))return!1;if(Tt&&!Ot[e]&&w(mt,e));else if(Ct&&w(yt,e));else{if(!Et[e]||Ot[e])return!1;if(Jt[e]);else if(w(wt,y(n,vt,"")));else if("src"!==e&&"xlink:href"!==e&&"href"!==e||"script"===t||0!==b(n,"data:")||!Ht[t])if(jt&&!w(bt,y(n,vt,"")));else if(n)return!1}return!0},me=function(t){var e=void 0,r=void 0,o=void 0,i=void 0;he("beforeSanitizeAttributes",t,null);var s=t.attributes;if(s){var a={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Et};for(i=s.length;i--;){var c=e=s[i],u=c.name,l=c.namespaceURI;if(r=v(e.value),o=g(u),a.attrName=o,a.attrValue=r,a.keepAttr=!0,a.forceKeepAttr=void 0,he("uponSanitizeAttribute",t,a),r=a.attrValue,!a.forceKeepAttr&&(ce(u,t),a.keepAttr))if(w(/\/>/i,r))ce(u,t);else{kt&&(r=y(r,dt," "),r=y(r,gt," "));var f=t.nodeName.toLowerCase();if(ge(f,o,r))try{l?t.setAttributeNS(l,u,r):t.setAttribute(u,r),h(n.removed)}catch(t){}}}he("afterSanitizeAttributes",t,null)}},ye=function t(e){var n=void 0,r=le(e);for(he("beforeSanitizeShadowDOM",e,null);n=r.nextNode();)he("uponSanitizeShadowNode",n,null),de(n)||(n.content instanceof s&&t(n.content),me(n));he("afterSanitizeShadowDOM",e,null)};return n.sanitize=function(t,o){var i=void 0,a=void 0,u=void 0,l=void 0,f=void 0;if((Kt=!t)&&(t="\x3c!--\x3e"),"string"!=typeof t&&!pe(t)){if("function"!=typeof t.toString)throw _("toString is not a function");if("string"!=typeof(t=t.toString()))throw _("dirty is not a string, aborting")}if(!n.isSupported){if("object"===H(e.toStaticHTML)||"function"==typeof e.toStaticHTML){if("string"==typeof t)return e.toStaticHTML(t);if(pe(t))return e.toStaticHTML(t.outerHTML)}return t}if(Rt||ee(o),n.removed=[],"string"==typeof t&&(Dt=!1),Dt);else if(t instanceof c)1===(a=(i=ue("\x3c!----\x3e")).ownerDocument.importNode(t,!0)).nodeType&&"BODY"===a.nodeName||"HTML"===a.nodeName?i=a:i.appendChild(a);else{if(!Lt&&!kt&&!It&&-1===t.indexOf("<"))return ot&&Ft?ot.createHTML(t):t;if(!(i=ue(t)))return Lt?null:it}i&&Ut&&ae(i.firstChild);for(var p=le(Dt?t:i);u=p.nextNode();)3===u.nodeType&&u===l||de(u)||(u.content instanceof s&&ye(u.content),me(u),l=u);if(l=null,Dt)return t;if(Lt){if(Bt)for(f=ut.call(i.ownerDocument);i.firstChild;)f.appendChild(i.firstChild);else f=i;return Nt&&(f=ft.call(r,f,!0)),f}var h=It?i.outerHTML:i.innerHTML;return kt&&(h=y(h,dt," "),h=y(h,gt," ")),ot&&Ft?ot.createHTML(h):h},n.setConfig=function(t){ee(t),Rt=!0},n.clearConfig=function(){Qt=null,Rt=!1},n.isValidAttribute=function(t,e,n){Qt||ee({});var r=g(t),o=g(e);return ge(r,o,n)},n.addHook=function(t,e){"function"==typeof e&&(ht[t]=ht[t]||[],d(ht[t],e))},n.removeHook=function(t){ht[t]&&h(ht[t])},n.removeHooks=function(t){ht[t]&&(ht[t]=[])},n.removeAllHooks=function(){ht={}},n}()}()},729:t=>{var e=Object.prototype.hasOwnProperty,n="~";function r(){}function o(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function i(t,e,r,i,s){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new o(r,i||t,s),c=n?n+e:e;return t._events[c]?t._events[c].fn?t._events[c]=[t._events[c],a]:t._events[c].push(a):(t._events[c]=a,t._eventsCount++),t}function s(t,e){0==--t._eventsCount?t._events=new r:delete t._events[e]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var t,r,o=[];if(0===this._eventsCount)return o;for(r in t=this._events)e.call(t,r)&&o.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(t)):o},a.prototype.listeners=function(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,i=r.length,s=new Array(i);o<i;o++)s[o]=r[o].fn;return s},a.prototype.listenerCount=function(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},a.prototype.emit=function(t,e,r,o,i,s){var a=n?n+t:t;if(!this._events[a])return!1;var c,u,l=this._events[a],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,r),!0;case 4:return l.fn.call(l.context,e,r,o),!0;case 5:return l.fn.call(l.context,e,r,o,i),!0;case 6:return l.fn.call(l.context,e,r,o,i,s),!0}for(u=1,c=new Array(f-1);u<f;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var p,h=l.length;for(u=0;u<h;u++)switch(l[u].once&&this.removeListener(t,l[u].fn,void 0,!0),f){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,e);break;case 3:l[u].fn.call(l[u].context,e,r);break;case 4:l[u].fn.call(l[u].context,e,r,o);break;default:if(!c)for(p=1,c=new Array(f-1);p<f;p++)c[p-1]=arguments[p];l[u].fn.apply(l[u].context,c)}}return!0},a.prototype.on=function(t,e,n){return i(this,t,e,n,!1)},a.prototype.once=function(t,e,n){return i(this,t,e,n,!0)},a.prototype.removeListener=function(t,e,r,o){var i=n?n+t:t;if(!this._events[i])return this;if(!e)return s(this,i),this;var a=this._events[i];if(a.fn)a.fn!==e||o&&!a.once||r&&a.context!==r||s(this,i);else{for(var c=0,u=[],l=a.length;c<l;c++)(a[c].fn!==e||o&&!a[c].once||r&&a[c].context!==r)&&u.push(a[c]);u.length?this._events[i]=1===u.length?u[0]:u:s(this,i)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&s(this,e)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a},717:t=>{"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},824:t=>{var e=1e3,n=6e4,r=60*n,o=24*r;function i(t,e,n,r){var o=e>=1.5*n;return Math.round(t/n)+" "+r+(o?"s":"")}t.exports=function(t,s){s=s||{};var a,c,u,l,f=typeof t;if("string"===f&&t.length>0)return function(t){if(!((t=String(t)).length>100)){var i=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(i){var s=parseFloat(i[1]);switch((i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*r;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(t);if("number"===f&&isFinite(t))return s.long?(a=t,(c=Math.abs(a))>=o?i(a,c,o,"day"):c>=r?i(a,c,r,"hour"):c>=n?i(a,c,n,"minute"):c>=e?i(a,c,e,"second"):a+" ms"):(u=t,(l=Math.abs(u))>=o?Math.round(u/o)+"d":l>=r?Math.round(u/r)+"h":l>=n?Math.round(u/n)+"m":l>=e?Math.round(u/e)+"s":u+"ms");throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},520:(t,e,n)=>{var r=n(155),o="win32"===r.platform,i=n(539);function s(t,e){for(var n=[],r=0;r<t.length;r++){var o=t[r];o&&"."!==o&&(".."===o?n.length&&".."!==n[n.length-1]?n.pop():e&&n.push(".."):n.push(o))}return n}function a(t){for(var e=t.length-1,n=0;n<=e&&!t[n];n++);for(var r=e;r>=0&&!t[r];r--);return 0===n&&r===e?t:n>r?[]:t.slice(n,r+1)}var c=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,u=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/,l={};function f(t){var e=c.exec(t),n=(e[1]||"")+(e[2]||""),r=e[3]||"",o=u.exec(r);return[n,o[1],o[2],o[3]]}function p(t){var e=c.exec(t),n=e[1]||"",r=!!n&&":"!==n[1];return{device:n,isUnc:r,isAbsolute:r||!!e[2],tail:e[3]}}function h(t){return"\\\\"+t.replace(/^[\\\/]+/,"").replace(/[\\\/]+/g,"\\")}l.resolve=function(){for(var t="",e="",n=!1,o=arguments.length-1;o>=-1;o--){var a;if(o>=0?a=arguments[o]:t?(a=r.env["="+t])&&a.substr(0,3).toLowerCase()===t.toLowerCase()+"\\"||(a=t+"\\"):a=r.cwd(),!i.isString(a))throw new TypeError("Arguments to path.resolve must be strings");if(a){var c=p(a),u=c.device,l=c.isUnc,f=c.isAbsolute,d=c.tail;if((!u||!t||u.toLowerCase()===t.toLowerCase())&&(t||(t=u),n||(e=d+"\\"+e,n=f),t&&n))break}}return l&&(t=h(t)),t+(n?"\\":"")+(e=s(e.split(/[\\\/]+/),!n).join("\\"))||"."},l.normalize=function(t){var e=p(t),n=e.device,r=e.isUnc,o=e.isAbsolute,i=e.tail,a=/[\\\/]$/.test(i);return(i=s(i.split(/[\\\/]+/),!o).join("\\"))||o||(i="."),i&&a&&(i+="\\"),r&&(n=h(n)),n+(o?"\\":"")+i},l.isAbsolute=function(t){return p(t).isAbsolute},l.join=function(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];if(!i.isString(n))throw new TypeError("Arguments to path.join must be strings");n&&t.push(n)}var r=t.join("\\");return/^[\\\/]{2}[^\\\/]/.test(t[0])||(r=r.replace(/^[\\\/]{2,}/,"\\")),l.normalize(r)},l.relative=function(t,e){t=l.resolve(t),e=l.resolve(e);for(var n=t.toLowerCase(),r=e.toLowerCase(),o=a(e.split("\\")),i=a(n.split("\\")),s=a(r.split("\\")),c=Math.min(i.length,s.length),u=c,f=0;f<c;f++)if(i[f]!==s[f]){u=f;break}if(0==u)return e;var p=[];for(f=u;f<i.length;f++)p.push("..");return(p=p.concat(o.slice(u))).join("\\")},l._makeLong=function(t){if(!i.isString(t))return t;if(!t)return"";var e=l.resolve(t);return/^[a-zA-Z]\:\\/.test(e)?"\\\\?\\"+e:/^\\\\[^?.]/.test(e)?"\\\\?\\UNC\\"+e.substring(2):t},l.dirname=function(t){var e=f(t),n=e[0],r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},l.basename=function(t,e){var n=f(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},l.extname=function(t){return f(t)[3]},l.format=function(t){if(!i.isObject(t))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof t);var e=t.root||"";if(!i.isString(e))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof t.root);var n=t.dir,r=t.base||"";return n?n[n.length-1]===l.sep?n+r:n+l.sep+r:r},l.parse=function(t){if(!i.isString(t))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof t);var e=f(t);if(!e||4!==e.length)throw new TypeError("Invalid path '"+t+"'");return{root:e[0],dir:e[0]+e[1].slice(0,-1),base:e[2],ext:e[3],name:e[2].slice(0,e[2].length-e[3].length)}},l.sep="\\",l.delimiter=";";var d=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,g={};function m(t){return d.exec(t).slice(1)}g.resolve=function(){for(var t="",e=!1,n=arguments.length-1;n>=-1&&!e;n--){var o=n>=0?arguments[n]:r.cwd();if(!i.isString(o))throw new TypeError("Arguments to path.resolve must be strings");o&&(t=o+"/"+t,e="/"===o[0])}return(e?"/":"")+(t=s(t.split("/"),!e).join("/"))||"."},g.normalize=function(t){var e=g.isAbsolute(t),n=t&&"/"===t[t.length-1];return(t=s(t.split("/"),!e).join("/"))||e||(t="."),t&&n&&(t+="/"),(e?"/":"")+t},g.isAbsolute=function(t){return"/"===t.charAt(0)},g.join=function(){for(var t="",e=0;e<arguments.length;e++){var n=arguments[e];if(!i.isString(n))throw new TypeError("Arguments to path.join must be strings");n&&(t+=t?"/"+n:n)}return g.normalize(t)},g.relative=function(t,e){t=g.resolve(t).substr(1),e=g.resolve(e).substr(1);for(var n=a(t.split("/")),r=a(e.split("/")),o=Math.min(n.length,r.length),i=o,s=0;s<o;s++)if(n[s]!==r[s]){i=s;break}var c=[];for(s=i;s<n.length;s++)c.push("..");return(c=c.concat(r.slice(i))).join("/")},g._makeLong=function(t){return t},g.dirname=function(t){var e=m(t),n=e[0],r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},g.basename=function(t,e){var n=m(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},g.extname=function(t){return m(t)[3]},g.format=function(t){if(!i.isObject(t))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof t);var e=t.root||"";if(!i.isString(e))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof t.root);return(t.dir?t.dir+g.sep:"")+(t.base||"")},g.parse=function(t){if(!i.isString(t))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof t);var e=m(t);if(!e||4!==e.length)throw new TypeError("Invalid path '"+t+"'");return e[1]=e[1]||"",e[2]=e[2]||"",e[3]=e[3]||"",{root:e[0],dir:e[0]+e[1].slice(0,-1),base:e[2],ext:e[3],name:e[2].slice(0,e[2].length-e[3].length)}},g.sep="/",g.delimiter=":",t.exports=o?l:g,t.exports.posix=g,t.exports.win32=l},155:t=>{var e,n,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function s(t){if(e===setTimeout)return setTimeout(t,0);if((e===o||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(n){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:o}catch(t){e=o}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(t){n=i}}();var a,c=[],u=!1,l=-1;function f(){u&&a&&(u=!1,a.length?c=a.concat(c):l=-1,c.length&&p())}function p(){if(!u){var t=s(f);u=!0;for(var e=c.length;e;){for(a=c,c=[];++l<e;)a&&a[l].run();l=-1,e=c.length}a=null,u=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function d(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new h(t,e)),1!==c.length||u||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=d,r.addListener=d,r.once=d,r.off=d,r.removeListener=d,r.removeAllListeners=d,r.emit=d,r.prependListener=d,r.prependOnceListener=d,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},384:t=>{t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},539:(t,e,n)=>{var r=n(155),o=/%[sdj%]/g;e.format=function(t){if(!y(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(a(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,i=r.length,s=String(t).replace(o,(function(t){if("%%"===t)return"%";if(n>=i)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}})),c=r[n];n<i;c=r[++n])g(c)||!w(c)?s+=" "+c:s+=" "+a(c);return s},e.deprecate=function(t,o){if(b(n.g.process))return function(){return e.deprecate(t,o).apply(this,arguments)};if(!0===r.noDeprecation)return t;var i=!1;return function(){if(!i){if(r.throwDeprecation)throw new Error(o);r.traceDeprecation?console.trace(o):console.error(o),i=!0}return t.apply(this,arguments)}};var i,s={};function a(t,n){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),d(n)?r.showHidden=n:n&&e._extend(r,n),b(r.showHidden)&&(r.showHidden=!1),b(r.depth)&&(r.depth=2),b(r.colors)&&(r.colors=!1),b(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=c),l(r,t,r.depth)}function c(t,e){var n=a.styles[e];return n?"["+a.colors[n][0]+"m"+t+"["+a.colors[n][1]+"m":t}function u(t,e){return t}function l(t,n,r){if(t.customInspect&&n&&E(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,t);return y(o)||(o=l(t,o,r)),o}var i=function(t,e){if(b(e))return t.stylize("undefined","undefined");if(y(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return m(e)?t.stylize(""+e,"number"):d(e)?t.stylize(""+e,"boolean"):g(e)?t.stylize("null","null"):void 0}(t,n);if(i)return i;var s,a=Object.keys(n),c=(s={},a.forEach((function(t,e){s[t]=!0})),s);if(t.showHidden&&(a=Object.getOwnPropertyNames(n)),x(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return f(n);if(0===a.length){if(E(n)){var u=n.name?": "+n.name:"";return t.stylize("[Function"+u+"]","special")}if(v(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(_(n))return t.stylize(Date.prototype.toString.call(n),"date");if(x(n))return f(n)}var w,A,S,O,C="",j=!1,k=["{","}"];return h(n)&&(j=!0,k=["[","]"]),E(n)&&(C=" [Function"+(n.name?": "+n.name:"")+"]"),v(n)&&(C=" "+RegExp.prototype.toString.call(n)),_(n)&&(C=" "+Date.prototype.toUTCString.call(n)),x(n)&&(C=" "+f(n)),0!==a.length||j&&0!=n.length?r<0?v(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),w=j?function(t,e,n,r,o){for(var i=[],s=0,a=e.length;s<a;++s)T(e,String(s))?i.push(p(t,e,n,r,String(s),!0)):i.push("");return o.forEach((function(o){o.match(/^\d+$/)||i.push(p(t,e,n,r,o,!0))})),i}(t,n,r,c,a):a.map((function(e){return p(t,n,r,c,e,j)})),t.seen.pop(),S=C,O=k,(A=w).reduce((function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?O[0]+(""===S?"":S+"\n ")+" "+A.join(",\n  ")+" "+O[1]:O[0]+S+" "+A.join(", ")+" "+O[1]):k[0]+C+k[1]}function f(t){return"["+Error.prototype.toString.call(t)+"]"}function p(t,e,n,r,o,i){var s,a,c;if((c=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]}).get?a=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(a=t.stylize("[Setter]","special")),T(r,o)||(s="["+o+"]"),a||(t.seen.indexOf(c.value)<0?(a=g(n)?l(t,c.value,null):l(t,c.value,n-1)).indexOf("\n")>-1&&(a=i?a.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+a.split("\n").map((function(t){return"   "+t})).join("\n")):a=t.stylize("[Circular]","special")),b(s)){if(i&&o.match(/^\d+$/))return a;(s=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function h(t){return Array.isArray(t)}function d(t){return"boolean"==typeof t}function g(t){return null===t}function m(t){return"number"==typeof t}function y(t){return"string"==typeof t}function b(t){return void 0===t}function v(t){return w(t)&&"[object RegExp]"===A(t)}function w(t){return"object"==typeof t&&null!==t}function _(t){return w(t)&&"[object Date]"===A(t)}function x(t){return w(t)&&("[object Error]"===A(t)||t instanceof Error)}function E(t){return"function"==typeof t}function A(t){return Object.prototype.toString.call(t)}function S(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(b(i)&&(i=r.env.NODE_DEBUG||""),t=t.toUpperCase(),!s[t])if(new RegExp("\\b"+t+"\\b","i").test(i)){var n=r.pid;s[t]=function(){var r=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,r)}}else s[t]=function(){};return s[t]},e.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=h,e.isBoolean=d,e.isNull=g,e.isNullOrUndefined=function(t){return null==t},e.isNumber=m,e.isString=y,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=b,e.isRegExp=v,e.isObject=w,e.isDate=_,e.isError=x,e.isFunction=E,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(384);var O=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function C(){var t=new Date,e=[S(t.getHours()),S(t.getMinutes()),S(t.getSeconds())].join(":");return[t.getDate(),O[t.getMonth()],e].join(" ")}function T(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",C(),e.format.apply(e,arguments))},e.inherits=n(717),e._extend=function(t,e){if(!e||!w(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}},o={};function i(t){var e=o[t];if(void 0!==e)return e.exports;var n=o[t]={exports:{}};return r[t].call(n.exports,n,n.exports,i),n.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var s={};return(()=>{i.r(s),i.d(s,{LSPluginUser:()=>Le,setupPluginUserInstance:()=>Be});var r=i(520);i(856);const o=function(t,e){return t===e||t!=t&&e!=e},a=function(t,e){for(var n=t.length;n--;)if(o(t[n][0],e))return n;return-1};var c=Array.prototype.splice;function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=function(){this.__data__=[],this.size=0},u.prototype.delete=function(t){var e=this.__data__,n=a(e,t);return!(n<0||(n==e.length-1?e.pop():c.call(e,n,1),--this.size,0))},u.prototype.get=function(t){var e=this.__data__,n=a(e,t);return n<0?void 0:e[n][1]},u.prototype.has=function(t){return a(this.__data__,t)>-1},u.prototype.set=function(t,e){var n=this.__data__,r=a(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};const l=u,f="object"==typeof t&&t&&t.Object===Object&&t;var p="object"==typeof self&&self&&self.Object===Object&&self;const h=f||p||Function("return this")(),d=h.Symbol;var g=Object.prototype,m=g.hasOwnProperty,y=g.toString,b=d?d.toStringTag:void 0,v=Object.prototype.toString,w=d?d.toStringTag:void 0;const _=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":w&&w in Object(t)?function(t){var e=m.call(t,b),n=t[b];try{t[b]=void 0;var r=!0}catch(t){}var o=y.call(t);return r&&(e?t[b]=n:delete t[b]),o}(t):(e=t,v.call(e));var e},x=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},E=function(t){if(!x(t))return!1;var e=_(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},A=h["__core-js_shared__"];var S,O=(S=/[^.]+$/.exec(A&&A.keys&&A.keys.IE_PROTO||""))?"Symbol(src)_1."+S:"",C=Function.prototype.toString,T=/^\[object .+?Constructor\]$/,j=Function.prototype,k=Object.prototype,I=j.toString,R=k.hasOwnProperty,U=RegExp("^"+I.call(R).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const L=function(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){var e;return!(!x(t)||(e=t,O&&O in e))&&(E(t)?U:T).test(function(t){if(null!=t){try{return C.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}(n)?n:void 0},B=L(h,"Map"),N=L(Object,"create");var F=Object.prototype.hasOwnProperty,M=Object.prototype.hasOwnProperty;function P(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}P.prototype.clear=function(){this.__data__=N?N(null):{},this.size=0},P.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},P.prototype.get=function(t){var e=this.__data__;if(N){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return F.call(e,t)?e[t]:void 0},P.prototype.has=function(t){var e=this.__data__;return N?void 0!==e[t]:M.call(e,t)},P.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=N&&void 0===e?"__lodash_hash_undefined__":e,this};const D=P,z=function(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map};function $(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}$.prototype.clear=function(){this.size=0,this.__data__={hash:new D,map:new(B||l),string:new D}},$.prototype.delete=function(t){var e=z(this,t).delete(t);return this.size-=e?1:0,e},$.prototype.get=function(t){return z(this,t).get(t)},$.prototype.has=function(t){return z(this,t).has(t)},$.prototype.set=function(t,e){var n=z(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};const q=$;function H(t){var e=this.__data__=new l(t);this.size=e.size}H.prototype.clear=function(){this.__data__=new l,this.size=0},H.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},H.prototype.get=function(t){return this.__data__.get(t)},H.prototype.has=function(t){return this.__data__.has(t)},H.prototype.set=function(t,e){var n=this.__data__;if(n instanceof l){var r=n.__data__;if(!B||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new q(r)}return n.set(t,e),this.size=n.size,this};const G=H,J=function(){try{var t=L(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),W=function(t,e,n){"__proto__"==e&&J?J(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},Y=function(t,e,n){(void 0!==n&&!o(t[e],n)||void 0===n&&!(e in t))&&W(t,e,n)};var Z="object"==typeof n&&n&&!n.nodeType&&n,V=Z&&e&&!e.nodeType&&e,X=V&&V.exports===Z?h.Buffer:void 0;X&&X.allocUnsafe;const K=h.Uint8Array;var Q=Object.create;const tt=function(){function t(){}return function(e){if(!x(e))return{};if(Q)return Q(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),et=(nt=Object.getPrototypeOf,rt=Object,function(t){return nt(rt(t))});var nt,rt,ot=Object.prototype;const it=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ot)},st=function(t){return null!=t&&"object"==typeof t},at=function(t){return st(t)&&"[object Arguments]"==_(t)};var ct=Object.prototype,ut=ct.hasOwnProperty,lt=ct.propertyIsEnumerable;const ft=at(function(){return arguments}())?at:function(t){return st(t)&&ut.call(t,"callee")&&!lt.call(t,"callee")},pt=Array.isArray,ht=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},dt=function(t){return null!=t&&ht(t.length)&&!E(t)};var gt="object"==typeof n&&n&&!n.nodeType&&n,mt=gt&&e&&!e.nodeType&&e,yt=mt&&mt.exports===gt?h.Buffer:void 0;const bt=(yt?yt.isBuffer:void 0)||function(){return!1};var vt=Function.prototype,wt=Object.prototype,_t=vt.toString,xt=wt.hasOwnProperty,Et=_t.call(Object),At={};At["[object Float32Array]"]=At["[object Float64Array]"]=At["[object Int8Array]"]=At["[object Int16Array]"]=At["[object Int32Array]"]=At["[object Uint8Array]"]=At["[object Uint8ClampedArray]"]=At["[object Uint16Array]"]=At["[object Uint32Array]"]=!0,At["[object Arguments]"]=At["[object Array]"]=At["[object ArrayBuffer]"]=At["[object Boolean]"]=At["[object DataView]"]=At["[object Date]"]=At["[object Error]"]=At["[object Function]"]=At["[object Map]"]=At["[object Number]"]=At["[object Object]"]=At["[object RegExp]"]=At["[object Set]"]=At["[object String]"]=At["[object WeakMap]"]=!1;var St="object"==typeof n&&n&&!n.nodeType&&n,Ot=St&&e&&!e.nodeType&&e,Ct=Ot&&Ot.exports===St&&f.process,Tt=function(){try{return Ot&&Ot.require&&Ot.require("util").types||Ct&&Ct.binding&&Ct.binding("util")}catch(t){}}(),jt=Tt&&Tt.isTypedArray;const kt=jt?(Rt=jt,function(t){return Rt(t)}):function(t){return st(t)&&ht(t.length)&&!!At[_(t)]},It=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]};var Rt,Ut=Object.prototype.hasOwnProperty;const Lt=function(t,e,n){var r=t[e];Ut.call(t,e)&&o(r,n)&&(void 0!==n||e in t)||W(t,e,n)};var Bt=/^(?:0|[1-9]\d*)$/;const Nt=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&Bt.test(t))&&t>-1&&t%1==0&&t<e};var Ft=Object.prototype.hasOwnProperty,Mt=Object.prototype.hasOwnProperty;const Pt=function(t){return dt(t)?function(t,e){var n=pt(t),r=!n&&ft(t),o=!n&&!r&&bt(t),i=!n&&!r&&!o&&kt(t),s=n||r||o||i,a=s?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],c=a.length;for(var u in t)!e&&!Ft.call(t,u)||s&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Nt(u,c))||a.push(u);return a}(t,!0):function(t){if(!x(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=it(t),n=[];for(var r in t)("constructor"!=r||!e&&Mt.call(t,r))&&n.push(r);return n}(t)},Dt=function(t,e,n,r,o,i,s){var a,c,u=It(t,n),l=It(e,n),f=s.get(l);if(f)Y(t,n,f);else{var p=i?i(u,l,n+"",t,e,s):void 0,h=void 0===p;if(h){var d=pt(l),g=!d&&bt(l),m=!d&&!g&&kt(l);p=l,d||g||m?pt(u)?p=u:st(a=u)&&dt(a)?p=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}(u):g?(h=!1,p=function(t,e){return t.slice()}(l)):m?(h=!1,p=function(t,e){var n,r,o=e?(r=new(n=t.buffer).constructor(n.byteLength),new K(r).set(new K(n)),r):t.buffer;return new t.constructor(o,t.byteOffset,t.length)}(l,!0)):p=[]:function(t){if(!st(t)||"[object Object]"!=_(t))return!1;var e=et(t);if(null===e)return!0;var n=xt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&_t.call(n)==Et}(l)||ft(l)?(p=u,ft(u)?p=function(t,e,n,r){var o=!n;n||(n={});for(var i=-1,s=e.length;++i<s;){var a=e[i],c=void 0;void 0===c&&(c=t[a]),o?W(n,a,c):Lt(n,a,c)}return n}(c=u,Pt(c)):x(u)&&!E(u)||(p=function(t){return"function"!=typeof t.constructor||it(t)?{}:tt(et(t))}(l))):h=!1}h&&(s.set(l,p),o(p,l,r,i,s),s.delete(l)),Y(t,n,p)}},zt=function t(e,n,r,o,i){e!==n&&function(t,e,n){for(var r=-1,o=Object(t),i=n(t),s=i.length;s--;){var a=i[++r];if(!1===e(o[a],a,o))break}}(n,(function(s,a){if(i||(i=new G),x(s))Dt(e,n,a,r,t,o,i);else{var c=o?o(It(e,a),s,a+"",e,n,i):void 0;void 0===c&&(c=s),Y(e,a,c)}}),Pt)},$t=function(t){return t},qt=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)};var Ht=Math.max;const Gt=J?function(t,e){var n;return J(t,"toString",{configurable:!0,enumerable:!1,value:(n=e,function(){return n}),writable:!0})}:$t;var Jt=Date.now;const Wt=function(t){var e=0,n=0;return function(){var r=Jt(),o=16-(r-n);if(n=r,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(Gt),Yt=(Xt=function(t,e,n){zt(t,e,n)},Vt=function(t,e){var n=-1,r=e.length,i=r>1?e[r-1]:void 0,s=r>2?e[2]:void 0;for(i=Xt.length>3&&"function"==typeof i?(r--,i):void 0,s&&function(t,e,n){if(!x(n))return!1;var r=typeof e;return!!("number"==r?dt(n)&&Nt(e,n.length):"string"==r&&e in n)&&o(n[e],t)}(e[0],e[1],s)&&(i=r<3?void 0:i,r=1),t=Object(t);++n<r;){var a=e[n];a&&Xt(t,a,n)}return t},Wt(function(t,e,n){return e=Ht(void 0===e?t.length-1:e,0),function(){for(var r=arguments,o=-1,i=Ht(r.length-e,0),s=Array(i);++o<i;)s[o]=r[e+o];o=-1;for(var a=Array(e+1);++o<e;)a[o]=r[o];return a[e]=n(s),qt(t,this,a)}}(Vt,void 0,$t),Vt+"")),Zt="win32"===navigator.platform.toLowerCase()?r.win32:r.posix;var Vt,Xt;const Kt=Yt;function Qt(t,e){let n,r,o=!1;const i=e=>n=>{t&&clearTimeout(t),e(n),o=!0},s=new Promise(((o,s)=>{n=i(o),r=i(s),t&&(t=setTimeout((()=>r(new Error(`[deferred timeout] ${e}`))),t))}));return{created:Date.now(),setTag:t=>e=t,resolve:n,reject:r,promise:s,get settled(){return o}}}new Map;var te=i(227),ee=i.n(te);const ne="application/x-postmate-v1+json";let re=0;const oe={handshake:1,"handshake-reply":1,call:1,emit:1,reply:1,request:1},ie=(t,e)=>!("string"==typeof e&&t.origin!==e||!t.data||"object"==typeof t.data&&!("postmate"in t.data)||t.data.type!==ne||!oe[t.data.postmate]);class se{parent;frame;child;events={};childOrigin;listener;constructor(t){this.parent=t.parent,this.frame=t.frame,this.child=t.child,this.childOrigin=t.childOrigin,this.listener=t=>{if(!ie(t,this.childOrigin))return!1;const{data:e,name:n}=((t||{}).data||{}).value||{};"emit"===t.data.postmate&&n in this.events&&this.events[n].forEach((t=>{t.call(this,e)}))},this.parent.addEventListener("message",this.listener,!1)}get(t){return new Promise((e=>{const n=++re,r=t=>{t.data.uid===n&&"reply"===t.data.postmate&&(this.parent.removeEventListener("message",r,!1),e(t.data.value))};this.parent.addEventListener("message",r,!1),this.child.postMessage({postmate:"request",type:ne,property:t,uid:n},this.childOrigin)}))}call(t,e){this.child.postMessage({postmate:"call",type:ne,property:t,data:e},this.childOrigin)}on(t,e){this.events[t]||(this.events[t]=[]),this.events[t].push(e)}destroy(){window.removeEventListener("message",this.listener,!1),this.frame.parentNode.removeChild(this.frame)}}class ae{model;parent;parentOrigin;child;constructor(t){this.model=t.model,this.parent=t.parent,this.parentOrigin=t.parentOrigin,this.child=t.child,this.child.addEventListener("message",(t=>{if(!ie(t,this.parentOrigin))return;const{property:e,uid:n,data:r}=t.data;"call"!==t.data.postmate?((t,e)=>{const n="function"==typeof t[e]?t[e]():t[e];return Promise.resolve(n)})(this.model,e).then((r=>{t.source.postMessage({property:e,postmate:"reply",type:ne,uid:n,value:r},t.origin)})):e in this.model&&"function"==typeof this.model[e]&&this.model[e](r)}))}emit(t,e){this.parent.postMessage({postmate:"emit",type:ne,value:{name:t,data:e}},this.parentOrigin)}}class ce{static debug=!1;container;parent;frame;child;childOrigin;url;model;static Model;constructor(t){this.container=t.container,this.url=t.url,this.parent=window,this.frame=document.createElement("iframe"),t.id&&(this.frame.id=t.id),t.name&&(this.frame.name=t.name),this.frame.classList.add.apply(this.frame.classList,t.classListArray||[]),this.container.appendChild(this.frame),this.child=this.frame.contentWindow,this.model=t.model||{}}sendHandshake(t){const e=(t=>{const e=document.createElement("a");e.href=t;const n=e.protocol.length>4?e.protocol:window.location.protocol,r=e.host.length?"80"===e.port||"443"===e.port?e.hostname:e.host:window.location.host;return e.origin||`${n}//${r}`})(t=t||this.url);let n,r=0;return new Promise(((o,i)=>{const s=t=>!!ie(t,e)&&("handshake-reply"===t.data.postmate?(clearInterval(n),this.parent.removeEventListener("message",s,!1),this.childOrigin=t.origin,o(new se(this))):i("Failed handshake"));this.parent.addEventListener("message",s,!1);const a=()=>{r++,this.child.postMessage({postmate:"handshake",type:ne,model:this.model},e),5===r&&clearInterval(n)};this.frame.addEventListener("load",(()=>{a(),n=setInterval(a,500)})),this.frame.src=t}))}}class ue{child;model;parent;parentOrigin;constructor(t){this.child=window,this.model=t,this.parent=this.child.parent}sendHandshakeReply(){return new Promise(((t,e)=>{const n=r=>{if(r.data.postmate){if("handshake"===r.data.postmate){this.child.removeEventListener("message",n,!1),r.source.postMessage({postmate:"handshake-reply",type:ne},r.origin),this.parentOrigin=r.origin;const e=r.data.model;return e&&Object.keys(e).forEach((t=>{this.model[t]=e[t]})),t(new ae(this))}return e("Handshake Reply Failed")}};this.child.addEventListener("message",n,!1)}))}}var le=i(729),fe=i.n(le);const{importHTML:pe,createSandboxContainer:he}=window.QSandbox||{};function de(t,e){return t.startsWith("http")?fetch(t,e):(t=t.replace("file://",""),new Promise((async(e,n)=>{try{const n=await window.apis.doAction(["readFile",t]);e({text:()=>n})}catch(t){console.error(t),n(t)}})))}class ge extends(fe()){_pluginLocal;_frame;_root;_loaded=!1;_unmountFns=[];constructor(t){super(),this._pluginLocal=t,t._dispose((()=>{this._unmount()}))}async load(){const{name:t,entry:e}=this._pluginLocal.options;if(this.loaded||!e)return;const{template:n,execScripts:r}=await pe(e,{fetch:de});this._mount(n,document.body);const o=he(t,{elementGetter:()=>this._root?.firstChild}).instance.proxy;o.__shadow_mode__=!0,o.LSPluginLocal=this._pluginLocal,o.LSPluginShadow=this,o.LSPluginUser=o.logseq=new Le(this._pluginLocal.toJSON(),this._pluginLocal.caller);const i=await r(o,!0);this._unmountFns.push(i.unmount),this._loaded=!0}_mount(t,e){const n=this._frame=document.createElement("div");n.classList.add("lsp-shadow-sandbox"),n.id=this._pluginLocal.id,this._root=n.attachShadow({mode:"open"}),this._root.innerHTML=`<div>${t}</div>`,e.appendChild(n),this.emit("mounted")}_unmount(){for(const t of this._unmountFns)t&&t.call(null)}destroy(){this.frame?.parentNode?.removeChild(this.frame)}get loaded(){return this._loaded}get document(){return this._root?.firstChild}get frame(){return this._frame}}const me=ee()("LSPlugin:caller"),ye="#await#response#",be="#lspmsg#error#",ve=t=>`#lspmsg#${t}`;class we extends(fe()){_pluginLocal;_connected=!1;_parent;_child;_shadow;_status;_userModel={};_call;_callUserModel;_debugTag="";constructor(t){super(),this._pluginLocal=t,t&&(this._debugTag=t.debugTag)}async connectToChild(){if(this._connected)return;const{shadow:t}=this._pluginLocal;t?await this._setupShadowSandbox():await this._setupIframeSandbox()}async connectToParent(t={}){if(this._connected)return;const e=this,n=null!=this._pluginLocal;let r=0,o=0;const i=new Map,s=Qt(5e3),a=this._extendUserModel({"#lspmsg#ready#":async t=>{a[ve(t?.pid)]=({type:t,payload:n})=>{me(`[call from host (_call)] ${this._debugTag}`,t,n),e.emit(t,n)},await s.resolve()},"#lspmsg#beforeunload#":async t=>{const n=Qt(1e4);e.emit("beforeunload",Object.assign({actor:n},t)),await n.promise},"#lspmsg#settings#":async({type:t,payload:n})=>{e.emit("settings:changed",n)},"#lspmsg#":async({ns:t,type:n,payload:r})=>{me(`[call from host (async)] ${this._debugTag}`,t,n,r),t&&t.startsWith("hook")?e.emit(`${t}:${n}`,r):e.emit(n,r)},"#lspmsg#reply#":({_sync:t,result:e})=>{if(me(`[sync reply] #${t}`,e),i.has(t)){const n=i.get(t);n&&(e?.hasOwnProperty(be)?n.reject(e[be]):n.resolve(e),i.delete(t))}},...t});if(n)return await s.promise,JSON.parse(JSON.stringify(this._pluginLocal?.toJSON()));const c=new ue(a).sendHandshakeReply();return this._status="pending",await c.then((t=>{this._child=t,this._connected=!0,this._call=async(e,n={},r)=>{if(r){const t=++o;i.set(t,r),n._sync=t,r.setTag(`async call #${t}`),me("async call #",t)}return t.emit(ve(a.baseInfo.id),{type:e,payload:n}),r?.promise},this._callUserModel=async(t,e)=>{try{a[t](e)}catch(e){me(`[model method] #${t} not existed`)}},r=setInterval((()=>{if(i.size>100)for(const[t,e]of i)e.settled&&i.delete(t)}),18e5)})).finally((()=>{this._status=void 0})),await s.promise,a.baseInfo}async call(t,e={}){return this._call?.call(this,t,e)}async callAsync(t,e={}){const n=Qt(1e4);return this._call?.call(this,t,e,n)}async callUserModel(t,e={}){return this._callUserModel?.call(this,t,e)}async _setupIframeSandbox(){const t=this._pluginLocal,e=t.id,n=new URL(t.options.entry);n.searchParams.set("__v__",t.options.version);const r=document.querySelector(`#${e}`);r&&r.parentElement.removeChild(r);const o=document.createElement("div");o.classList.add("lsp-iframe-sandbox-container"),o.id=e;try{const t=(await this._pluginLocal._loadLayoutsData())?.$$0;if(t){o.dataset.inited_layout="true";const{width:e,height:n,left:r,top:i}=t;Object.assign(o.style,{width:e+"px",height:n+"px",left:r+"px",top:i+"px"})}}catch(t){console.error("[Restore Layout Error]",t)}document.body.appendChild(o);let i,s=new ce({id:e+"_iframe",container:o,url:n.href,classListArray:["lsp-iframe-sandbox"],model:{baseInfo:JSON.parse(JSON.stringify(t.toJSON()))}}).sendHandshake();return this._status="pending",new Promise(((e,n)=>{i=setTimeout((()=>{n(new Error("handshake Timeout"))}),3e3),s.then((n=>{this._parent=n,this._connected=!0,this.emit("connected"),n.on(ve(t.id),(({type:t,payload:e})=>{me("[call from plugin] ",t,e),this._pluginLocal?.emit(t,e||{})})),this._call=async(...e)=>{await n.call(ve(t.id),{type:e[0],payload:Object.assign(e[1]||{},{$$pid:t.id})})},this._callUserModel=async(t,e)=>{if(t.startsWith(ye))return await n.get(t.replace(ye,""));n.call(t,e)},e(null)})).catch((t=>{n(t)})).finally((()=>{clearTimeout(i)}))})).catch((t=>{throw me("[iframe sandbox] error",t),t})).finally((()=>{this._status=void 0}))}async _setupShadowSandbox(){const t=this._pluginLocal,e=this._shadow=new ge(t);try{this._status="pending",await e.load(),this._connected=!0,this.emit("connected"),this._call=async(e,n={},r)=>(r&&(n.actor=r),this._pluginLocal?.emit(e,Object.assign(n,{$$pid:t.id})),r?.promise),this._callUserModel=async(...t)=>{let e=t[0];e?.startsWith(ye)&&(e=e.replace(ye,""));const n=t[1]||{},r=this._userModel[e];"function"==typeof r&&await r.call(null,n)}}catch(t){throw me("[shadow sandbox] error",t),t}finally{this._status=void 0}}_extendUserModel(t){return Object.assign(this._userModel,t)}_getSandboxIframeContainer(){return this._parent?.frame.parentNode}_getSandboxShadowContainer(){return this._shadow?.frame.parentNode}_getSandboxIframeRoot(){return this._parent?.frame}_getSandboxShadowRoot(){return this._shadow?.frame}set debugTag(t){this._debugTag=t}async destroy(){let t=null;this._parent&&(t=this._getSandboxIframeContainer(),await this._parent.destroy()),this._shadow&&(t=this._getSandboxShadowContainer(),this._shadow.destroy()),t?.parentNode.removeChild(t)}}var _e=function(){return(_e=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function xe(t){return t.toLowerCase()}Object.create,Object.create;var Ee=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],Ae=/[^A-Z0-9]+/gi;function Se(t,e,n){return e instanceof RegExp?t.replace(e,n):e.reduce((function(t,e){return t.replace(e,n)}),t)}class Oe{ctx;constructor(t){this.ctx=t}get ctxId(){return this.ctx.baseInfo.id}setItem(t,e){return this.ctx.caller.callAsync("api:call",{method:"write-plugin-storage-file",args:[this.ctxId,t,e]})}getItem(t){return this.ctx.caller.callAsync("api:call",{method:"read-plugin-storage-file",args:[this.ctxId,t]})}removeItem(t){return this.ctx.caller.call("api:call",{method:"unlink-plugin-storage-file",args:[this.ctxId,t]})}clear(){return this.ctx.caller.call("api:call",{method:"clear-plugin-storage-files",args:[this.ctxId]})}hasItem(t){return this.ctx.caller.callAsync("api:call",{method:"exist-plugin-storage-file",args:[this.ctxId,t]})}}const Ce=Symbol.for("proxy-continue"),Te=ee()("LSPlugin:user");function je(t,e,n){if("function"!=typeof n)return!1;const{key:r,label:o,desc:i,palette:s,keybinding:a}=e,c=`SimpleCommandHook${r}${++Ie}`;this.Editor["on"+c](n),this.caller?.call("api:call",{method:"register-plugin-simple-command",args:[this.baseInfo.id,[{key:r,label:o,type:t,desc:i,keybinding:a},["editor/hook",c]],s]})}const ke={registerCommand:je,registerCommandPalette(t,e){const{key:n,label:r,keybinding:o}=t;return je.call(this,"global-palette-command",{key:n,label:r,palette:!0,keybinding:o},e)},registerUIItem(t,e){const n=this.baseInfo.id;this.caller?.call("api:call",{method:"register-plugin-ui-item",args:[n,t,e]})},registerPageMenuItem(t,e){if("function"!=typeof e)return!1;const n=t+"_"+this.baseInfo.id,r=t;je.call(this,"page-menu-item",{key:n,label:r},e)},setFullScreen(t){const e=(...t)=>this._callWin("setFullScreen",...t);"toggle"===t?this._callWin("isFullScreen").then((t=>{t?e():e(!0)})):t?e(!0):e()}};let Ie=0;const Re={registerSlashCommand(t,e){Te("Register slash command #",this.baseInfo.id,t,e),"function"==typeof e&&(e=[["editor/clear-current-slash",!1],["editor/restore-saved-cursor"],["editor/hook",e]]),e=e.map((t=>{const[e,...n]=t;if("editor/hook"===e){let r=n[0],o=()=>{this.caller?.callUserModel(r)};"function"==typeof r&&(o=r);const i=`SlashCommandHook${e}${++Ie}`;t[1]=i,this.Editor["on"+i](o)}return t})),this.caller?.call("api:call",{method:"register-plugin-slash-command",args:[this.baseInfo.id,[t,e]]})},registerBlockContextMenuItem(t,e){if("function"!=typeof e)return!1;const n=t+"_"+this.baseInfo.id,r=t;je.call(this,"block-context-menu-item",{key:n,label:r},e)},scrollToBlockInPage(t,e){const n="block-content-"+e;this.App.pushState("page",{name:t},{anchor:n})}},Ue={};class Le extends(fe()){_baseInfo;_caller;_settingsSchema;_connected=!1;_ui=new Map;_fileStorage;_beforeunloadCallback;constructor(t,e){super(),this._baseInfo=t,this._caller=e,e.on("sys:ui:visible",(t=>{t?.toggle&&this.toggleMainUI()})),e.on("settings:changed",(t=>{const e=Object.assign({},this.settings),n=Object.assign(this._baseInfo.settings,t);this.emit("settings:changed",{...n},e)})),e.on("beforeunload",(async t=>{const{actor:n,...r}=t,o=this._beforeunloadCallback;try{o&&await o(r),n?.resolve(null)}catch(t){console.debug(`${e.debugTag} [beforeunload] `,t),n?.reject(t)}})),this._fileStorage=new Oe(this)}async ready(t,e){if(!this._connected)try{"function"==typeof t&&(e=t,t={});let n=await this._caller.connectToParent(t);this._connected=!0,n=Kt(this._baseInfo,n),this._settingsSchema&&(n.settings=function(t,e){const n=(e||[]).reduce(((t,e)=>("default"in e&&(t[e.key]=e.default),t)),{});return Object.assign(n,t)}(n.settings,this._settingsSchema),await this.useSettingsSchema(this._settingsSchema)),n?.id&&(this._caller.debugTag=`#${n.id} [${n.name}]`),e&&e.call(this,n)}catch(t){console.error("[LSPlugin Ready Error]",t)}}ensureConnected(){if(!this._connected)throw new Error("not connected")}beforeunload(t){"function"==typeof t&&(this._beforeunloadCallback=t)}provideModel(t){return this.caller._extendUserModel(t),this}provideTheme(t){return this.caller.call("provider:theme",t),this}provideStyle(t){return this.caller.call("provider:style",t),this}provideUI(t){return this.caller.call("provider:ui",t),this}useSettingsSchema(t){return this.connected&&this.caller.call("settings:schema",{schema:t,isSync:!0}),this._settingsSchema=t,this}updateSettings(t){this.caller.call("settings:update",t)}onSettingsChanged(t){const e="settings:changed";return this.on(e,t),()=>this.off(e,t)}showSettingsUI(){this.caller.call("settings:visible:changed",{visible:!0})}hideSettingsUI(){this.caller.call("settings:visible:changed",{visible:!1})}setMainUIAttrs(t){this.caller.call("main-ui:attrs",t)}setMainUIInlineStyle(t){this.caller.call("main-ui:style",t)}hideMainUI(t){const e={key:0,visible:!1,cursor:t?.restoreEditingCursor};this.caller.call("main-ui:visible",e),this.emit("ui:visible:changed",e),this._ui.set(e.key,e)}showMainUI(t){const e={key:0,visible:!0,autoFocus:t?.autoFocus};this.caller.call("main-ui:visible",e),this.emit("ui:visible:changed",e),this._ui.set(e.key,e)}toggleMainUI(){const t=this._ui.get(0);t&&t.visible?this.hideMainUI():this.showMainUI()}get isMainUIVisible(){const t=this._ui.get(0);return Boolean(t&&t.visible)}get connected(){return this._connected}get baseInfo(){return this._baseInfo}get settings(){return this.baseInfo?.settings}get caller(){return this._caller}resolveResourceFullUrl(t){if(this.ensureConnected(),t)return t=t.replace(/^[.\\/]+/,""),function(t,...e){try{const n=new URL(t);if(!n.origin)throw new Error(null);const r=Zt.join(t.substr(n.origin.length),...e);return n.origin+r}catch(n){return Zt.join(t,...e)}}(this._baseInfo.lsr,t)}_makeUserProxy(t,e){const n=this,r=this.caller;return new Proxy(t,{get(t,o,i){const s=t[o];return function(...t){if(!s||s.apply(n,t)===Ce){if(e){const n=o.toString().match(/^(once|off|on)/i);if(null!=n){const o=n[0].toLowerCase(),s=n.input.slice(o.length),l=`hook:${e}:${i=s,void 0===a&&(a={}),c=i,u=_e({delimiter:"_"},a),void 0===u&&(u={}),function(t,e){void 0===e&&(e={});for(var n=e.splitRegexp,r=void 0===n?Ee:n,o=e.stripRegexp,i=void 0===o?Ae:o,s=e.transform,a=void 0===s?xe:s,c=e.delimiter,u=void 0===c?" ":c,l=Se(Se(t,r,"$1\0$2"),i,"\0"),f=0,p=l.length;"\0"===l.charAt(f);)f++;for(;"\0"===l.charAt(p-1);)p--;return l.slice(f,p).split("\0").map(a).join(u)}(c,_e({delimiter:"."},u))}`,f=t[0];return r[o](l,f),"off"!==o?()=>r.off(l,f):void 0}}var i,a;return r.callAsync("api:call",{tag:e,method:o,args:t})}var c,u}}})}_callWin(...t){return this._caller.callAsync("api:call",{method:"_callMainWin",args:t})}get App(){return this._makeUserProxy(ke,"app")}get Editor(){return this._makeUserProxy(Re,"editor")}get DB(){return this._makeUserProxy(Ue)}get FileStorage(){return this._fileStorage}}function Be(t,e){return new Le(t,e)}if(null==window.__LSP__HOST__){const t=new we(null);window.logseq=Be({},t)}})(),s})()},"object"==typeof n?e.exports=o():"function"==typeof define&&define.amd?define([],o):"object"==typeof n?n.LSPluginEntry=o():r.LSPluginEntry=o()})),o.register("er2Zu",(function(t,e){var n=o("b9oeN"),r=o("cn52Y"),i=o("ic7cc"),s=o("kH6ct");var a=function t(e){var o=new i(e),a=r(i.prototype.request,o);return n.extend(a,i.prototype,o),n.extend(a,o),a.create=function(n){return t(s(e,n))},a}(o("UDCGQ"));a.Axios=i,a.Cancel=o("kgJve"),a.CancelToken=o("4UZP9"),a.isCancel=o("4jeYn"),a.VERSION=o("hcxAU").version,a.all=function(t){return Promise.all(t)},a.spread=o("3rayK"),a.isAxiosError=o("ba0wu"),t.exports=a,t.exports.default=a})),o.register("b9oeN",(function(t,e){var n=o("cn52Y"),r=Object.prototype.toString;function i(t){return Array.isArray(t)}function s(t){return void 0===t}function a(t){return"[object ArrayBuffer]"===r.call(t)}function c(t){return null!==t&&"object"==typeof t}function u(t){if("[object Object]"!==r.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function l(t){return"[object Function]"===r.call(t)}function f(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),i(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}t.exports={isArray:i,isArrayBuffer:a,isBuffer:function(t){return null!==t&&!s(t)&&null!==t.constructor&&!s(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"[object FormData]"===r.call(t)},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&a(t.buffer)},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:c,isPlainObject:u,isUndefined:s,isDate:function(t){return"[object Date]"===r.call(t)},isFile:function(t){return"[object File]"===r.call(t)},isBlob:function(t){return"[object Blob]"===r.call(t)},isFunction:l,isStream:function(t){return c(t)&&l(t.pipe)},isURLSearchParams:function(t){return"[object URLSearchParams]"===r.call(t)},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:f,merge:function t(){var e={};function n(n,r){u(e[r])&&u(n)?e[r]=t(e[r],n):u(n)?e[r]=t({},n):i(n)?e[r]=n.slice():e[r]=n}for(var r=0,o=arguments.length;r<o;r++)f(arguments[r],n);return e},extend:function(t,e,r){return f(e,(function(e,o){t[o]=r&&"function"==typeof e?n(e,r):e})),t},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}}})),o.register("cn52Y",(function(t,e){t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}})),o.register("ic7cc",(function(t,e){var n=o("b9oeN"),r=o("2HmsV"),i=o("3cSRW"),s=o("exorg"),a=o("kH6ct"),c=o("bc4Lu"),u=c.validators;function l(t){this.defaults=t,this.interceptors={request:new i,response:new i}}l.prototype.request=function(t,e){"string"==typeof t?(e=e||{}).url=t:e=t||{},(e=a(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var n=e.transitional;void 0!==n&&c.assertOptions(n,{silentJSONParsing:u.transitional(u.boolean),forcedJSONParsing:u.transitional(u.boolean),clarifyTimeoutError:u.transitional(u.boolean)},!1);var r=[],o=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(o=o&&t.synchronous,r.unshift(t.fulfilled,t.rejected))}));var i,l=[];if(this.interceptors.response.forEach((function(t){l.push(t.fulfilled,t.rejected)})),!o){var f=[s,void 0];for(Array.prototype.unshift.apply(f,r),f=f.concat(l),i=Promise.resolve(e);f.length;)i=i.then(f.shift(),f.shift());return i}for(var p=e;r.length;){var h=r.shift(),d=r.shift();try{p=h(p)}catch(t){d(t);break}}try{i=s(p)}catch(t){return Promise.reject(t)}for(;l.length;)i=i.then(l.shift(),l.shift());return i},l.prototype.getUri=function(t){return t=a(this.defaults,t),r(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(t){l.prototype[t]=function(e,n){return this.request(a(n||{},{method:t,url:e,data:(n||{}).data}))}})),n.forEach(["post","put","patch"],(function(t){l.prototype[t]=function(e,n,r){return this.request(a(r||{},{method:t,url:e,data:n}))}})),t.exports=l})),o.register("2HmsV",(function(t,e){var n=o("b9oeN");function r(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,o){if(!e)return t;var i;if(o)i=o(e);else if(n.isURLSearchParams(e))i=e.toString();else{var s=[];n.forEach(e,(function(t,e){null!=t&&(n.isArray(t)?e+="[]":t=[t],n.forEach(t,(function(t){n.isDate(t)?t=t.toISOString():n.isObject(t)&&(t=JSON.stringify(t)),s.push(r(e)+"="+r(t))})))})),i=s.join("&")}if(i){var a=t.indexOf("#");-1!==a&&(t=t.slice(0,a)),t+=(-1===t.indexOf("?")?"?":"&")+i}return t}})),o.register("3cSRW",(function(t,e){var n=o("b9oeN");function r(){this.handlers=[]}r.prototype.use=function(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},r.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},r.prototype.forEach=function(t){n.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=r})),o.register("exorg",(function(t,e){var n=o("b9oeN"),r=o("33sDH"),i=o("4jeYn"),s=o("UDCGQ"),a=o("kgJve");function c(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new a("canceled")}t.exports=function(t){return c(t),t.headers=t.headers||{},t.data=r.call(t,t.data,t.headers,t.transformRequest),t.headers=n.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||s.adapter)(t).then((function(e){return c(t),e.data=r.call(t,e.data,e.headers,t.transformResponse),e}),(function(e){return i(e)||(c(t),e&&e.response&&(e.response.data=r.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}})),o.register("33sDH",(function(t,e){var n=o("b9oeN"),r=o("UDCGQ");t.exports=function(t,e,o){var i=this||r;return n.forEach(o,(function(n){t=n.call(i,t,e)})),t}})),o.register("UDCGQ",(function(t,e){var n=o("8j2NX"),r=o("b9oeN"),i=o("casIs"),s=o("8GY9f"),a={"Content-Type":"application/x-www-form-urlencoded"};function c(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var u,l={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==n&&"[object process]"===Object.prototype.toString.call(n))&&(u=o("8d49A")),u),transformRequest:[function(t,e){return i(e,"Accept"),i(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(c(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)||e&&"application/json"===e["Content-Type"]?(c(e,"application/json"),function(t,e,n){if(r.isString(t))try{return(e||JSON.parse)(t),r.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(n||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){var e=this.transitional||l.transitional,n=e&&e.silentJSONParsing,o=e&&e.forcedJSONParsing,i=!n&&"json"===this.responseType;if(i||o&&r.isString(t)&&t.length)try{return JSON.parse(t)}catch(t){if(i){if("SyntaxError"===t.name)throw s(t,this,"E_JSON_PARSE");throw t}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(t){l.headers[t]={}})),r.forEach(["post","put","patch"],(function(t){l.headers[t]=r.merge(a)})),t.exports=l})),o.register("8j2NX",(function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var c,u=[],l=!1,f=-1;function p(){l&&c&&(l=!1,c.length?u=c.concat(u):f=-1,u.length&&h())}function h(){if(!l){var t=a(p);l=!0;for(var e=u.length;e;){for(c=u,u=[];++f<e;)c&&c[f].run();f=-1,e=u.length}c=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function g(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new d(t,e)),1!==u.length||l||a(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}})),o.register("casIs",(function(t,e){var n=o("b9oeN");t.exports=function(t,e){n.forEach(t,(function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])}))}})),o.register("8GY9f",(function(t,e){t.exports=function(t,e,n,r,o){return t.config=e,n&&(t.code=n),t.request=r,t.response=o,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t}})),o.register("8d49A",(function(t,e){var n=o("b9oeN"),r=o("8QEpy"),i=o("lRpoO"),s=o("2HmsV"),a=o("8J6mJ"),c=o("j7yFY"),u=o("5Fl6w"),l=o("eS7Zy"),f=o("UDCGQ"),p=o("kgJve");t.exports=function(t){return new Promise((function(e,o){var h,d=t.data,g=t.headers,m=t.responseType;function y(){t.cancelToken&&t.cancelToken.unsubscribe(h),t.signal&&t.signal.removeEventListener("abort",h)}n.isFormData(d)&&delete g["Content-Type"];var b=new XMLHttpRequest;if(t.auth){var v=t.auth.username||"",w=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";g.Authorization="Basic "+btoa(v+":"+w)}var _=a(t.baseURL,t.url);function x(){if(b){var n="getAllResponseHeaders"in b?c(b.getAllResponseHeaders()):null,i={data:m&&"text"!==m&&"json"!==m?b.response:b.responseText,status:b.status,statusText:b.statusText,headers:n,config:t,request:b};r((function(t){e(t),y()}),(function(t){o(t),y()}),i),b=null}}if(b.open(t.method.toUpperCase(),s(_,t.params,t.paramsSerializer),!0),b.timeout=t.timeout,"onloadend"in b?b.onloadend=x:b.onreadystatechange=function(){b&&4===b.readyState&&(0!==b.status||b.responseURL&&0===b.responseURL.indexOf("file:"))&&setTimeout(x)},b.onabort=function(){b&&(o(l("Request aborted",t,"ECONNABORTED",b)),b=null)},b.onerror=function(){o(l("Network Error",t,null,b)),b=null},b.ontimeout=function(){var e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",n=t.transitional||f.transitional;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),o(l(e,t,n.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",b)),b=null},n.isStandardBrowserEnv()){var E=(t.withCredentials||u(_))&&t.xsrfCookieName?i.read(t.xsrfCookieName):void 0;E&&(g[t.xsrfHeaderName]=E)}"setRequestHeader"in b&&n.forEach(g,(function(t,e){void 0===d&&"content-type"===e.toLowerCase()?delete g[e]:b.setRequestHeader(e,t)})),n.isUndefined(t.withCredentials)||(b.withCredentials=!!t.withCredentials),m&&"json"!==m&&(b.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&b.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&b.upload&&b.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(h=function(t){b&&(o(!t||t&&t.type?new p("canceled"):t),b.abort(),b=null)},t.cancelToken&&t.cancelToken.subscribe(h),t.signal&&(t.signal.aborted?h():t.signal.addEventListener("abort",h))),d||(d=null),b.send(d)}))}})),o.register("8QEpy",(function(t,e){var n=o("eS7Zy");t.exports=function(t,e,r){var o=r.config.validateStatus;r.status&&o&&!o(r.status)?e(n("Request failed with status code "+r.status,r.config,null,r.request,r)):t(r)}})),o.register("eS7Zy",(function(t,e){var n=o("8GY9f");t.exports=function(t,e,r,o,i){var s=new Error(t);return n(s,e,r,o,i)}})),o.register("lRpoO",(function(t,e){var n=o("b9oeN");t.exports=n.isStandardBrowserEnv()?{write:function(t,e,r,o,i,s){var a=[];a.push(t+"="+encodeURIComponent(e)),n.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),n.isString(o)&&a.push("path="+o),n.isString(i)&&a.push("domain="+i),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}})),o.register("8J6mJ",(function(t,e){var n=o("ckpx6"),r=o("fyZ59");t.exports=function(t,e){return t&&!n(e)?r(t,e):e}})),o.register("ckpx6",(function(t,e){t.exports=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}})),o.register("fyZ59",(function(t,e){t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}})),o.register("j7yFY",(function(t,e){var n=o("b9oeN"),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,o,i,s={};return t?(n.forEach(t.split("\n"),(function(t){if(i=t.indexOf(":"),e=n.trim(t.substr(0,i)).toLowerCase(),o=n.trim(t.substr(i+1)),e){if(s[e]&&r.indexOf(e)>=0)return;s[e]="set-cookie"===e?(s[e]?s[e]:[]).concat([o]):s[e]?s[e]+", "+o:o}})),s):s}})),o.register("5Fl6w",(function(t,e){var n=o("b9oeN");t.exports=n.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function o(t){var n=t;return e&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return t=o(window.location.href),function(e){var r=n.isString(e)?o(e):e;return r.protocol===t.protocol&&r.host===t.host}}():function(){return!0}})),o.register("kgJve",(function(t,e){function n(t){this.message=t}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,t.exports=n})),o.register("4jeYn",(function(t,e){t.exports=function(t){return!(!t||!t.__CANCEL__)}})),o.register("kH6ct",(function(t,e){var n=o("b9oeN");t.exports=function(t,e){e=e||{};var r={};function o(t,e){return n.isPlainObject(t)&&n.isPlainObject(e)?n.merge(t,e):n.isPlainObject(e)?n.merge({},e):n.isArray(e)?e.slice():e}function i(r){return n.isUndefined(e[r])?n.isUndefined(t[r])?void 0:o(void 0,t[r]):o(t[r],e[r])}function s(t){if(!n.isUndefined(e[t]))return o(void 0,e[t])}function a(r){return n.isUndefined(e[r])?n.isUndefined(t[r])?void 0:o(void 0,t[r]):o(void 0,e[r])}function c(n){return n in e?o(t[n],e[n]):n in t?o(void 0,t[n]):void 0}var u={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c};return n.forEach(Object.keys(t).concat(Object.keys(e)),(function(t){var e=u[t]||i,o=e(t);n.isUndefined(o)&&e!==c||(r[t]=o)})),r}})),o.register("bc4Lu",(function(t,e){var n=o("hcxAU").version,r={};["object","boolean","number","function","string","symbol"].forEach((function(t,e){r[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}}));var i={};r.transitional=function(t,e,r){function o(t,e){return"[Axios v"+n+"] Transitional option '"+t+"'"+e+(r?". "+r:"")}return function(n,r,s){if(!1===t)throw new Error(o(r," has been removed"+(e?" in "+e:"")));return e&&!i[r]&&(i[r]=!0,console.warn(o(r," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,r,s)}},t.exports={assertOptions:function(t,e,n){if("object"!=typeof t)throw new TypeError("options must be an object");for(var r=Object.keys(t),o=r.length;o-- >0;){var i=r[o],s=e[i];if(s){var a=t[i],c=void 0===a||s(a,i,t);if(!0!==c)throw new TypeError("option "+i+" must be "+c)}else if(!0!==n)throw Error("Unknown option "+i)}},validators:r}})),o.register("hcxAU",(function(t,e){t.exports={version:"0.26.0"}})),o.register("4UZP9",(function(t,e){var n=o("kgJve");function r(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var r=this;this.promise.then((function(t){if(r._listeners){var e,n=r._listeners.length;for(e=0;e<n;e++)r._listeners[e](t);r._listeners=null}})),this.promise.then=function(t){var e,n=new Promise((function(t){r.subscribe(t),e=t})).then(t);return n.cancel=function(){r.unsubscribe(e)},n},t((function(t){r.reason||(r.reason=new n(t),e(r.reason))}))}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.prototype.subscribe=function(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]},r.prototype.unsubscribe=function(t){if(this._listeners){var e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}},r.source=function(){var t;return{token:new r((function(e){t=e})),cancel:t}},t.exports=r})),o.register("3rayK",(function(t,e){t.exports=function(t){return function(e){return t.apply(null,e)}}})),o.register("ba0wu",(function(t,e){var n=o("b9oeN");t.exports=function(t){return n.isObject(t)&&!0===t.isAxiosError}})),o("9EzOR");var i,s,a,c;i=o("er2Zu"),o("9EzOR"),a=function(t){var e,n,r=y(t),o=r[0],i=r[1],s=new h(function(t,e,n){return 3*(e+n)/4-n}(0,o,i)),a=0,c=i>0?o-4:o;for(n=0;n<c;n+=4)e=p[t.charCodeAt(n)]<<18|p[t.charCodeAt(n+1)]<<12|p[t.charCodeAt(n+2)]<<6|p[t.charCodeAt(n+3)],s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=255&e;2===i&&(e=p[t.charCodeAt(n)]<<2|p[t.charCodeAt(n+1)]>>4,s[a++]=255&e);1===i&&(e=p[t.charCodeAt(n)]<<10|p[t.charCodeAt(n+1)]<<4|p[t.charCodeAt(n+2)]>>2,s[a++]=e>>8&255,s[a++]=255&e);return s},c=function(t){for(var e,n=t.length,r=n%3,o=[],i=16383,s=0,a=n-r;s<a;s+=i)o.push(b(t,s,s+i>a?a:s+i));1===r?(e=t[n-1],o.push(f[e>>2]+f[e<<4&63]+"==")):2===r&&(e=(t[n-2]<<8)+t[n-1],o.push(f[e>>10]+f[e>>4&63]+f[e<<2&63]+"="));return o.join("")}
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */;for(var u,l,f=[],p=[],h="undefined"!=typeof Uint8Array?Uint8Array:Array,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g=0,m=d.length;g<m;++g)f[g]=d[g],p[d.charCodeAt(g)]=g;function y(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function b(t,e,n){for(var r,o,i=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),i.push(f[(o=r)>>18&63]+f[o>>12&63]+f[o>>6&63]+f[63&o]);return i.join("")}p["-".charCodeAt(0)]=62,p["_".charCodeAt(0)]=63,u=function(t,e,n,r,o){var i,s,a=8*o-r-1,c=(1<<a)-1,u=c>>1,l=-7,f=n?o-1:0,p=n?-1:1,h=t[e+f];for(f+=p,i=h&(1<<-l)-1,h>>=-l,l+=a;l>0;i=256*i+t[e+f],f+=p,l-=8);for(s=i&(1<<-l)-1,i>>=-l,l+=r;l>0;s=256*s+t[e+f],f+=p,l-=8);if(0===i)i=1-u;else{if(i===c)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,r),i-=u}return(h?-1:1)*s*Math.pow(2,i-r)},l=function(t,e,n,r,o,i){var s,a,c,u=8*i-o-1,l=(1<<u)-1,f=l>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,d=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),(e+=s+f>=1?p/c:p*Math.pow(2,1-f))*c>=2&&(s++,c/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(e*c-1)*Math.pow(2,o),s+=f):(a=e*Math.pow(2,f-1)*Math.pow(2,o),s=0));o>=8;t[n+h]=255&a,h+=d,a/=256,o-=8);for(s=s<<o|a,u+=o;u>0;t[n+h]=255&s,h+=d,s/=256,u-=8);t[n+h-d]|=128*g};const v="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;s=_;function w(t){if(t>2147483647)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,_.prototype),e}function _(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return A(t)}return x(t,e,n)}function x(t,e,n){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!_.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const n=0|T(t,e);let r=w(n);const o=r.write(t,e);o!==n&&(r=r.slice(0,o));return r}(t,e);if(ArrayBuffer.isView(t))return function(t){if(at(t,Uint8Array)){const e=new Uint8Array(t);return O(e.buffer,e.byteOffset,e.byteLength)}return S(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(at(t,ArrayBuffer)||t&&at(t.buffer,ArrayBuffer))return O(t,e,n);if("undefined"!=typeof SharedArrayBuffer&&(at(t,SharedArrayBuffer)||t&&at(t.buffer,SharedArrayBuffer)))return O(t,e,n);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return _.from(r,e,n);const o=function(t){if(_.isBuffer(t)){const e=0|C(t.length),n=w(e);return 0===n.length||t.copy(n,0,0,e),n}if(void 0!==t.length)return"number"!=typeof t.length||ct(t.length)?w(0):S(t);if("Buffer"===t.type&&Array.isArray(t.data))return S(t.data)}(t);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return _.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function E(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function A(t){return E(t),w(t<0?0:0|C(t))}function S(t){const e=t.length<0?0:0|C(t.length),n=w(e);for(let r=0;r<e;r+=1)n[r]=255&t[r];return n}function O(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(r,_.prototype),r}function C(t){if(t>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647..toString(16)+" bytes");return 0|t}function T(t,e){if(_.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||at(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const n=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let o=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return ot(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return it(t).length;default:if(o)return r?-1:ot(t).length;e=(""+e).toLowerCase(),o=!0}}function j(t,e,n){let r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return $(this,e,n);case"utf8":case"utf-8":return P(this,e,n);case"ascii":return D(this,e,n);case"latin1":case"binary":return z(this,e,n);case"base64":return M(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function k(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function I(t,e,n,r,o){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),ct(n=+n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof e&&(e=_.from(e,r)),_.isBuffer(e))return 0===e.length?-1:R(t,e,n,r,o);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):R(t,[e],n,r,o);throw new TypeError("val must be string, number or Buffer")}function R(t,e,n,r,o){let i,s=1,a=t.length,c=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,c/=2,n/=2}function u(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(o){let r=-1;for(i=n;i<a;i++)if(u(t,i)===u(e,-1===r?0:i-r)){if(-1===r&&(r=i),i-r+1===c)return r*s}else-1!==r&&(i-=i-r),r=-1}else for(n+c>a&&(n=a-c),i=n;i>=0;i--){let n=!0;for(let r=0;r<c;r++)if(u(t,i+r)!==u(e,r)){n=!1;break}if(n)return i}return-1}function U(t,e,n,r){n=Number(n)||0;const o=t.length-n;r?(r=Number(r))>o&&(r=o):r=o;const i=e.length;let s;for(r>i/2&&(r=i/2),s=0;s<r;++s){const r=parseInt(e.substr(2*s,2),16);if(ct(r))return s;t[n+s]=r}return s}function L(t,e,n,r){return st(ot(e,t.length-n),t,n,r)}function B(t,e,n,r){return st(function(t){const e=[];for(let n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function N(t,e,n,r){return st(it(e),t,n,r)}function F(t,e,n,r){return st(function(t,e){let n,r,o;const i=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(e,t.length-n),t,n,r)}function M(t,e,n){return 0===e&&n===t.length?c(t):c(t.slice(e,n))}function P(t,e,n){n=Math.min(t.length,n);const r=[];let o=e;for(;o<n;){const e=t[o];let i=null,s=e>239?4:e>223?3:e>191?2:1;if(o+s<=n){let n,r,a,c;switch(s){case 1:e<128&&(i=e);break;case 2:n=t[o+1],128==(192&n)&&(c=(31&e)<<6|63&n,c>127&&(i=c));break;case 3:n=t[o+1],r=t[o+2],128==(192&n)&&128==(192&r)&&(c=(15&e)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(i=c));break;case 4:n=t[o+1],r=t[o+2],a=t[o+3],128==(192&n)&&128==(192&r)&&128==(192&a)&&(c=(15&e)<<18|(63&n)<<12|(63&r)<<6|63&a,c>65535&&c<1114112&&(i=c))}}null===i?(i=65533,s=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),o+=s}return function(t){const e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);let n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=4096));return n}(r)}_.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),_.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(_.prototype,"parent",{enumerable:!0,get:function(){if(_.isBuffer(this))return this.buffer}}),Object.defineProperty(_.prototype,"offset",{enumerable:!0,get:function(){if(_.isBuffer(this))return this.byteOffset}}),_.poolSize=8192,_.from=function(t,e,n){return x(t,e,n)},Object.setPrototypeOf(_.prototype,Uint8Array.prototype),Object.setPrototypeOf(_,Uint8Array),_.alloc=function(t,e,n){return function(t,e,n){return E(t),t<=0?w(t):void 0!==e?"string"==typeof n?w(t).fill(e,n):w(t).fill(e):w(t)}(t,e,n)},_.allocUnsafe=function(t){return A(t)},_.allocUnsafeSlow=function(t){return A(t)},_.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==_.prototype},_.compare=function(t,e){if(at(t,Uint8Array)&&(t=_.from(t,t.offset,t.byteLength)),at(e,Uint8Array)&&(e=_.from(e,e.offset,e.byteLength)),!_.isBuffer(t)||!_.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let n=t.length,r=e.length;for(let o=0,i=Math.min(n,r);o<i;++o)if(t[o]!==e[o]){n=t[o],r=e[o];break}return n<r?-1:r<n?1:0},_.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},_.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return _.alloc(0);let n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;const r=_.allocUnsafe(e);let o=0;for(n=0;n<t.length;++n){let e=t[n];if(at(e,Uint8Array))o+e.length>r.length?(_.isBuffer(e)||(e=_.from(e)),e.copy(r,o)):Uint8Array.prototype.set.call(r,e,o);else{if(!_.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(r,o)}o+=e.length}return r},_.byteLength=T,_.prototype._isBuffer=!0,_.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)k(this,e,e+1);return this},_.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)k(this,e,e+3),k(this,e+1,e+2);return this},_.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)k(this,e,e+7),k(this,e+1,e+6),k(this,e+2,e+5),k(this,e+3,e+4);return this},_.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?P(this,0,t):j.apply(this,arguments)},_.prototype.toLocaleString=_.prototype.toString,_.prototype.equals=function(t){if(!_.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===_.compare(this,t)},_.prototype.inspect=function(){let t="";return t=this.toString("hex",0,50).replace(/(.{2})/g,"$1 ").trim(),this.length>50&&(t+=" ... "),"<Buffer "+t+">"},v&&(_.prototype[v]=_.prototype.inspect),_.prototype.compare=function(t,e,n,r,o){if(at(t,Uint8Array)&&(t=_.from(t,t.offset,t.byteLength)),!_.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),e<0||n>t.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&e>=n)return 0;if(r>=o)return-1;if(e>=n)return 1;if(this===t)return 0;let i=(o>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0);const a=Math.min(i,s),c=this.slice(r,o),u=t.slice(e,n);for(let t=0;t<a;++t)if(c[t]!==u[t]){i=c[t],s=u[t];break}return i<s?-1:s<i?1:0},_.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},_.prototype.indexOf=function(t,e,n){return I(this,t,e,n,!0)},_.prototype.lastIndexOf=function(t,e,n){return I(this,t,e,n,!1)},_.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let i=!1;for(;;)switch(r){case"hex":return U(this,t,e,n);case"utf8":case"utf-8":return L(this,t,e,n);case"ascii":case"latin1":case"binary":return B(this,t,e,n);case"base64":return N(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,t,e,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},_.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function D(t,e,n){let r="";n=Math.min(t.length,n);for(let o=e;o<n;++o)r+=String.fromCharCode(127&t[o]);return r}function z(t,e,n){let r="";n=Math.min(t.length,n);for(let o=e;o<n;++o)r+=String.fromCharCode(t[o]);return r}function $(t,e,n){const r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);let o="";for(let r=e;r<n;++r)o+=ut[t[r]];return o}function q(t,e,n){const r=t.slice(e,n);let o="";for(let t=0;t<r.length-1;t+=2)o+=String.fromCharCode(r[t]+256*r[t+1]);return o}function H(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function G(t,e,n,r,o,i){if(!_.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function J(t,e,n,r,o){tt(e,r,o,t,n,7);let i=Number(e&BigInt(4294967295));t[n++]=i,i>>=8,t[n++]=i,i>>=8,t[n++]=i,i>>=8,t[n++]=i;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,n}function W(t,e,n,r,o){tt(e,r,o,t,n,7);let i=Number(e&BigInt(4294967295));t[n+7]=i,i>>=8,t[n+6]=i,i>>=8,t[n+5]=i,i>>=8,t[n+4]=i;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[n+3]=s,s>>=8,t[n+2]=s,s>>=8,t[n+1]=s,s>>=8,t[n]=s,n+8}function Y(t,e,n,r,o,i){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function Z(t,e,n,r,o){return e=+e,n>>>=0,o||Y(t,0,n,4),l(t,e,n,r,23,4),n+4}function V(t,e,n,r,o){return e=+e,n>>>=0,o||Y(t,0,n,8),l(t,e,n,r,52,8),n+8}_.prototype.slice=function(t,e){const n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);const r=this.subarray(t,e);return Object.setPrototypeOf(r,_.prototype),r},_.prototype.readUintLE=_.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||H(t,e,this.length);let r=this[t],o=1,i=0;for(;++i<e&&(o*=256);)r+=this[t+i]*o;return r},_.prototype.readUintBE=_.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||H(t,e,this.length);let r=this[t+--e],o=1;for(;e>0&&(o*=256);)r+=this[t+--e]*o;return r},_.prototype.readUint8=_.prototype.readUInt8=function(t,e){return t>>>=0,e||H(t,1,this.length),this[t]},_.prototype.readUint16LE=_.prototype.readUInt16LE=function(t,e){return t>>>=0,e||H(t,2,this.length),this[t]|this[t+1]<<8},_.prototype.readUint16BE=_.prototype.readUInt16BE=function(t,e){return t>>>=0,e||H(t,2,this.length),this[t]<<8|this[t+1]},_.prototype.readUint32LE=_.prototype.readUInt32LE=function(t,e){return t>>>=0,e||H(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},_.prototype.readUint32BE=_.prototype.readUInt32BE=function(t,e){return t>>>=0,e||H(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},_.prototype.readBigUInt64LE=lt((function(t){et(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||nt(t,this.length-8);const r=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,o=this[++t]+256*this[++t]+65536*this[++t]+n*2**24;return BigInt(r)+(BigInt(o)<<BigInt(32))})),_.prototype.readBigUInt64BE=lt((function(t){et(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||nt(t,this.length-8);const r=e*2**24+65536*this[++t]+256*this[++t]+this[++t],o=this[++t]*2**24+65536*this[++t]+256*this[++t]+n;return(BigInt(r)<<BigInt(32))+BigInt(o)})),_.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||H(t,e,this.length);let r=this[t],o=1,i=0;for(;++i<e&&(o*=256);)r+=this[t+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*e)),r},_.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||H(t,e,this.length);let r=e,o=1,i=this[t+--r];for(;r>0&&(o*=256);)i+=this[t+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*e)),i},_.prototype.readInt8=function(t,e){return t>>>=0,e||H(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},_.prototype.readInt16LE=function(t,e){t>>>=0,e||H(t,2,this.length);const n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},_.prototype.readInt16BE=function(t,e){t>>>=0,e||H(t,2,this.length);const n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},_.prototype.readInt32LE=function(t,e){return t>>>=0,e||H(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},_.prototype.readInt32BE=function(t,e){return t>>>=0,e||H(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},_.prototype.readBigInt64LE=lt((function(t){et(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||nt(t,this.length-8);const r=this[t+4]+256*this[t+5]+65536*this[t+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),_.prototype.readBigInt64BE=lt((function(t){et(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||nt(t,this.length-8);const r=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(r)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+n)})),_.prototype.readFloatLE=function(t,e){return t>>>=0,e||H(t,4,this.length),u(this,t,!0,23,4)},_.prototype.readFloatBE=function(t,e){return t>>>=0,e||H(t,4,this.length),u(this,t,!1,23,4)},_.prototype.readDoubleLE=function(t,e){return t>>>=0,e||H(t,8,this.length),u(this,t,!0,52,8)},_.prototype.readDoubleBE=function(t,e){return t>>>=0,e||H(t,8,this.length),u(this,t,!1,52,8)},_.prototype.writeUintLE=_.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e>>>=0,n>>>=0,!r){G(this,t,e,n,Math.pow(2,8*n)-1,0)}let o=1,i=0;for(this[e]=255&t;++i<n&&(o*=256);)this[e+i]=t/o&255;return e+n},_.prototype.writeUintBE=_.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e>>>=0,n>>>=0,!r){G(this,t,e,n,Math.pow(2,8*n)-1,0)}let o=n-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+n},_.prototype.writeUint8=_.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||G(this,t,e,1,255,0),this[e]=255&t,e+1},_.prototype.writeUint16LE=_.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||G(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},_.prototype.writeUint16BE=_.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||G(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},_.prototype.writeUint32LE=_.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||G(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},_.prototype.writeUint32BE=_.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||G(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},_.prototype.writeBigUInt64LE=lt((function(t,e=0){return J(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),_.prototype.writeBigUInt64BE=lt((function(t,e=0){return W(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),_.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);G(this,t,e,n,r-1,-r)}let o=0,i=1,s=0;for(this[e]=255&t;++o<n&&(i*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/i>>0)-s&255;return e+n},_.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);G(this,t,e,n,r-1,-r)}let o=n-1,i=1,s=0;for(this[e+o]=255&t;--o>=0&&(i*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/i>>0)-s&255;return e+n},_.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||G(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},_.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||G(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},_.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||G(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},_.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||G(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},_.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||G(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},_.prototype.writeBigInt64LE=lt((function(t,e=0){return J(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),_.prototype.writeBigInt64BE=lt((function(t,e=0){return W(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),_.prototype.writeFloatLE=function(t,e,n){return Z(this,t,e,!0,n)},_.prototype.writeFloatBE=function(t,e,n){return Z(this,t,e,!1,n)},_.prototype.writeDoubleLE=function(t,e,n){return V(this,t,e,!0,n)},_.prototype.writeDoubleBE=function(t,e,n){return V(this,t,e,!1,n)},_.prototype.copy=function(t,e,n,r){if(!_.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);const o=r-n;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,n,r):Uint8Array.prototype.set.call(t,this.subarray(n,r),e),o},_.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!_.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){const e=t.charCodeAt(0);("utf8"===r&&e<128||"latin1"===r)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;let o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{const i=_.isBuffer(t)?t:_.from(t,r),s=i.length;if(0===s)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<n-e;++o)this[o+e]=i[o%s]}return this};const X={};function K(t,e,n){X[t]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function Q(t){let e="",n=t.length;const r="-"===t[0]?1:0;for(;n>=r+4;n-=3)e=`_${t.slice(n-3,n)}${e}`;return`${t.slice(0,n)}${e}`}function tt(t,e,n,r,o,i){if(t>n||t<e){const r="bigint"==typeof e?"n":"";let o;throw o=i>3?0===e||e===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(i+1)}${r}`:`>= -(2${r} ** ${8*(i+1)-1}${r}) and < 2 ** ${8*(i+1)-1}${r}`:`>= ${e}${r} and <= ${n}${r}`,new X.ERR_OUT_OF_RANGE("value",o,t)}!function(t,e,n){et(e,"offset"),void 0!==t[e]&&void 0!==t[e+n]||nt(e,t.length-(n+1))}(r,o,i)}function et(t,e){if("number"!=typeof t)throw new X.ERR_INVALID_ARG_TYPE(e,"number",t)}function nt(t,e,n){if(Math.floor(t)!==t)throw et(t,n),new X.ERR_OUT_OF_RANGE(n||"offset","an integer",t);if(e<0)throw new X.ERR_BUFFER_OUT_OF_BOUNDS;throw new X.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${e}`,t)}K("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),K("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),K("ERR_OUT_OF_RANGE",(function(t,e,n){let r=`The value of "${t}" is out of range.`,o=n;return Number.isInteger(n)&&Math.abs(n)>2**32?o=Q(String(n)):"bigint"==typeof n&&(o=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(o=Q(o)),o+="n"),r+=` It must be ${e}. Received ${o}`,r}),RangeError);const rt=/[^+/0-9A-Za-z-_]/g;function ot(t,e){let n;e=e||1/0;const r=t.length;let o=null;const i=[];for(let s=0;s<r;++s){if(n=t.charCodeAt(s),n>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function it(t){return a(function(t){if((t=(t=t.split("=")[0]).trim().replace(rt,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function st(t,e,n,r){let o;for(o=0;o<r&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}function at(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function ct(t){return t!=t}const ut=function(){const t="0123456789abcdef",e=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let o=0;o<16;++o)e[r+o]=t[n]+t[o]}return e}();function lt(t){return"undefined"==typeof BigInt?ft:t}function ft(){throw new Error("BigInt not supported")}var pt=s;let ht,dt="";!function(t){t.typescript="typescript",t.javascript="js",t.html="html",t.error="error",t.php="php",t.md="markdown",t.notebook="ipynb",t.julia="julia",t.R="R",t.python="python",t.yaml="yaml",t.docker="dockerfile",t.tsreact="typescript"}(ht||(ht={}));const gt=[{ext:"js",type:ht.javascript},{ext:"ts",type:ht.typescript},{ext:"html",type:ht.html},{ext:"php",type:ht.php},{ext:"md",type:ht.md},{ext:"ipynb",type:ht.notebook},{ext:"jl",type:ht.julia},{ext:"R",type:ht.R},{ext:"py",type:ht.python},{ext:"yml",type:ht.yaml},{ext:"dockerfile",type:ht.docker},{ext:"tsx",type:ht.tsreact}];let mt=[];async function yt(t){const n="https://api.github.com/repos/"+logseq.settings.githubAccount+"/";let r=logseq.settings.githubRepo?logseq.settings.githubRepo:"";const o=logseq.settings.githubPat;try{const a=t.split(":");if(2==a.length&&(r=a[0],t=a[1]),""==r)return logseq.App.showMsg("No repository name provided.","error"),{content:"No repository name provided",type:ht.error};bt(r),dt="?ref="+mt.find((t=>t.reponame==r))?.commits[0].id;const c=n+r+"/contents/"+t+dt;console.log(`get file endpoint is ${c}`);let u=t.split(".");if(1==u.length)return{content:"No Delimiter",type:ht.error};const l=u[u.length-1];let f=await e(i).get(c,{headers:{Authorization:`token ${o}`}}),p=(s=f.data.content,pt.from(s,"base64").toString("binary"));return p.replace(/\n/g,"\r"),{content:p,type:gt.find((t=>t.ext==l))?.type,commit_id:f.data.url.split("=").pop()}}catch(t){return t.message="Failed to fetch",logseq.App.showMsg("The file was not found. Github is case sensitive so check the case of the path you provided.","error"),{content:t.message,type:ht.error}}var s}async function bt(t){const n="https://api.github.com/repos/"+logseq.settings.githubAccount+"/";let r=logseq.settings.githubRepo?logseq.settings.githubRepo:"";const o=logseq.settings.githubPat,s=t.split(":");if(2==s.length&&(r=s[0],t=s[1]),""==r)return void logseq.App.showMsg("No repository name provided.","error");let a=mt.findIndex((t=>t.reponame==r));const c=n+r+"/commits";let u=await e(i).get(c,{headers:{Authorization:`token ${o}`}});const l={reponame:r,commits:[]};u.data.forEach((t=>{l.commits.push({message:t.commit.message,id:t.url.split("/").pop()})})),console.log(`commits object is ${JSON.stringify(l)}`),a>=0?mt[a]=l:mt.push(l)}logseq.useSettingsSchema([{key:"githubAccount",type:"string",default:"",title:"Required: Github Account",description:"Your github account username. For private repositories it must have access to the repo that contains the code to be retrieved"},{key:"githubPat",type:"string",default:"",title:"Required: Your Personal Access Token",description:"The plugin requires a personal access token with full repo rights. For details on how to set this up for your github account, see the README notes."},{key:"githubRepo",type:"string",optional:!0,default:"",title:"Optional: Your default repository name",description:"You can enter a default repository name to be used when none is explicitly provided in the file path. See the README notes for more details."}]);const vt=()=>{logseq.settings;return!!(logseq.settings&&logseq.settings.githubAccount&&logseq.settings.githubPat)||(logseq.App.showMsg("Please complete the plugin settings","error"),!1)},wt=async(t,e)=>{const n=await logseq.Editor.getBlock(t,{includeChildren:!0});if(null===n||void 0===n.children||0!==n.children?.length)return;const r=e||n.content,o=(await bt(r),await yt(r));if(o.type==ht.error)return void logseq.App.showMsg(`VS Code Error: ${r}`,"error");o.content.includes("```")&&(o.content=o.content.split("```").join("\\`\\`\\`"));await logseq.Editor.insertBlock(n.uuid,`\`\`\`${o.type}\r\n${o.content}\r\n\`\`\``,{sibling:!1,before:!1});_t(t,o.commit_id),logseq.Editor.exitEditingMode()},_t=async(t,e,n=!0)=>{const r=await logseq.Editor.getBlock(t,{includeChildren:!0});r.content.includes("renderer :github")||logseq.Editor.updateBlock(t,`{{renderer :github_${Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)}, ${r.content}${e?", "+e:""}${n?", true":", false"}}}`)};logseq.ready((()=>{console.log("logseq-plugin-vscode-ref loaded"),logseq.Editor.registerSlashCommand("Github Code Embed",(async t=>{vt()&&wt(t.uuid)})),logseq.Editor.registerBlockContextMenuItem("Github Code Embed",(async t=>{vt()&&(_t(t.uuid),wt(t.uuid))})),logseq.setMainUIInlineStyle({position:"fixed",width:"290px",zIndex:999,transform:"translateX(-50%)"}),logseq.App.onMacroRendererSlotted((({slot:t,payload:e})=>{let[n,r,o,i]=e.arguments;!r.includes(":")&&logseq.settings&&(r=logseq.settings.githubRepo+":"+r),n?.startsWith(":github_")&&(logseq.provideModel({async refreshGithub(t){vt()&&(async(t,e)=>{const n=await logseq.Editor.getBlock(t,{includeChildren:!0});if(null===n||void 0===n.children||0===n.children?.length)return;const r=await logseq.Editor.getBlock(n?.children[0].id);r&&await logseq.Editor.removeBlock(r.uuid),wt(t,e)})(t.dataset.blockUuid,t.dataset.filePath)},async togglePin(t){if(!vt())return;const e=await logseq.Editor.getBlock(t.dataset.blockUuid,{includeChildren:!1});let n="";if(e?.content.includes("false")){n=e?.content.replace("false","true");const{rect:r}=t;logseq.toggleMainUI()}e?.content.includes("true")&&(n=e?.content.replace("true","false")),logseq.Editor.updateBlock(t.dataset.blockUuid,n)}}),logseq.provideStyle("\n    .github-refresh-btn {\n       border: 1px solid var(--ls-border-color); \n       white-space: initial; \n       padding: 2px 4px; \n       border-radius: 4px; \n       user-select: none;\n       cursor: default;\n       display: flex;\n       align-content: center;\n    }\n    \n    .github-refresh-btn:hover {\n      opacity: .8;\n      background-color: #92a8d1;\n      color: white;\n    }\n\n    .github-commit-id {\n      border: 1px solid var(--ls-border-color); \n      white-space: initial; \n      padding: 2px 4px; \n      border-radius: 4px; \n      user-select: none;\n      cursor: default;\n      display: flex;\n      align-content: center;\n      color: #c9c8c5;\n   }\n\n   .github-commit-id:hover {\n    opacity: .8;\n    background-color: #92a8d1;\n    color: white;\n  }\n\n\n\n  "),logseq.provideUI({key:"github_refresh_mounted",slot:t,reset:!0,template:`\n            <button class="github-refresh-btn"\n              data-slot-id="${t}"\n              data-block-uuid="${e.uuid}"\n              data-file-path="${r}"\n              data-on-click="refreshGithub">\n            ${r} 🔄 \n            </button>\n            <button class="github-commit-id"\n              data-block-uuid="${e.uuid}"\n              data-on-click="togglePin">\n            ${o.substr(0,7)}${"true"==i?"📌":""}\n            </button>\n          `}))}))})).catch((t=>{console.log(`VS Code Error: ${t.message}`),console.error}));